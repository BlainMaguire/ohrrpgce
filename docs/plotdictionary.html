<html><head>

<title>Dictionary of Plotscripting Commands</title><style type="text/css">
<!--
 .ohr {
   color:#C0C0C0;
   background-color:#000000;
   font-family:fixedsys,monospace;
   font-weight:normal;
   padding-left:4px;
   padding-right:4px;
 }
 .hss {
   background-color:#FFFFFF;
   color:#000000;
   border-width:3px;
   border-style:ridge;
   padding:6px;
   font-family:fixedsys,monospace;
 }
 -->
</style></head>
<body alink="#d0d000" bgcolor="#000000" link="#00ff00" text="#f0f0f0" vlink="#009090">

<font size="6">PlotScripting</font>
<font size="3">Dictionary of Commands</font><br>

<p>
This is a listing of all the plotscripting commands implemented as of April 2 
2005.
</p>
<p>
In addition to reading this document, I also reccomend you check out <a href="http://www.hamsterrepublic.com/ohrrpgce/plotscripttutor.html">Plotscripting Tutorial</a> and the <a href="http://www.hamsterrepublic.com/ohrrpgce/hamsterspeak.html">HamsterSpeak Specification</a>
</p>

<hr>

<p>
<font size="5"><i>
Commands by Category
</i></font>
</p>
<p>
<font size="4">
<a href="#declare">Declarations</a><br>
<a href="#wait">Wait Commands</a><br>
<a href="#suspend">Suspend and Resume</a><br>
<a href="#movehero">Moving Heros</a><br>
<a href="#movenpc">Moving NPCs</a><br>
<a href="#movecam">Moving The Camera</a><br>
<a href="#textboxes">Text Boxes</a><br>
<a href="#trigger">Triggering And Showing Stuff</a><br>
<a href="#addrem">Adding and Removing</a><br>
<a href="#effects">Effects</a><br>
<a href="#spells">Hero's Spells</a><br>
<a href="#mouse">Using the Mouse</a><br>
<a href="#functions">Misc Functions</a><br>
<a href="#maps">Tweaking Maps</a><br>
<a href="#tags">Working with Tags</a><br>
<a href="#variable">Working with Variables</a><br>
<a href="#operators">Math, Comparison, and Logic Operators</a><br>
<a href="#flow">Flow Control</a><br>
<a href="#advanced">Advanced Commands</a><br>
<a href="#predefined">Predefined Constants</a><br>
</font>
</p>

<hr>

<p>
<font size="5"><i>
Alphabetical Index
</i></font>
</p>
<p>
<multicol cols="2"></multicol>
<a href="#about-addhero">add hero (who)</a><br>
<a href="#about-advancetextbox">advance text box</a><br>
<a href="#about-alternpc">alter NPC (who,NPCstat,value)</a><br>
<a href="#about-autonumber">autonumber</a><br>
<a href="#about-autosave">autosave</a><br>
<a href="#about-begin%20and%20end">begin</a><br>
<a href="#about-camerafollowshero">camera follows hero (who)</a><br>
<a href="#about-camerafollowsnpc">camera follows NPC (who)</a><br>
<a href="#about-camerapixelx">camera pixel X</a><br>
<a href="#about-camerapixely">camera pixel Y</a><br>
<a href="#about-canlearnspell">can learn spell (hero,attack)</a><br>
<a href="#about-changenpcid">change NPC ID (reference,new ID)</a><br>
<a href="#about-checkequipment">check equipment (hero,slot)</a><br>
<a href="#about-checktag">check tag (tag)</a><br>
<a href="#about-createnpc">create NPC (ID,X,Y,direction)</a><br>
<a href="#about-currentmap">current map</a><br>
<a href="#about-currentstat">current stat</a><br>
<a href="#about-daysofplay">days of play</a><br>
<a href="#about-decrement">decrement (variable,amount)</a><br>
<a href="#about-defineconstant">define constant (number,name)</a><br>
<a href="#about-definescript">define script (id,name,aruments)</a><br>
<a href="#about-deletehero">delete hero (who)</a><br>
<a href="#about-deleteitem">delete item (item,number)</a><br>
<a href="#about-destroynpc">destroy NPC (reference)</a><br>
<a href="#about-dismountvehicle">dismount vehicle</a><br>
<a href="#about-equipmenu">equip menu (who)</a><br>
<a href="#about-equipwhere">equip where (hero,item)</a><br>
<a href="#about-fadescreenin">fade screen in</a><br>
<a href="#about-fadescreenout">fade screen out (red,green,blue)</a><br>
<a href="#about-fightformation">fight formation (number)</a><br>
<a href="#about-findhero">find hero (who)</a><br>
<a href="#about-focuscamera">focus camera (x,y,speed)</a><br>
<a href="#about-for">for(counter,start,finish,step) do(commands)</a><br>
<a href="#about-forceequip">force equip (hero,slot,item)</a><br>
<a href="#about-forgetspell">forget spell (hero,attack)</a><br>
<a href="#about-gameover">game over</a><br>
<a href="#about-getdeathscript">get death script</a><br>
<a href="#about-getdefaultweapon">get default weapon (hero)</a><br>
<a href="#about-getherolevel">get hero level (who)</a><br>
<a href="#about-getheropalette">get hero palette (who,type)</a><br>
<a href="#about-getheropicture">get hero picture (who,type)</a><br>
<a href="#about-getherostat">get hero stat (who,stat,type)</a><br>
<a href="#about-getitem">get item (item,number)</a><br>
<a href="#about-getloadscript">get load script</a><br>
<a href="#about-getmoney">get money (amount)</a><br>
<a href="#about-getnpcid">get NPC ID (reference)</a><br>
<a href="#about-globalvariable">global variable (id,name)</a><br>
<a href="#about-greyscalepalette">greyscale palette (first,last)</a><br>
<a href="#about-herobyrank">hero by rank (where)</a><br>
<a href="#about-herobyslot">hero by slot (where)</a><br>
<a href="#about-herodirection">hero direction (who)</a><br>
<a href="#about-heroiswalking">hero is walking (who)</a><br>
<a href="#about-heropixelx">hero pixel X (who)</a><br>
<a href="#about-heropixely">hero pixel Y (who)</a><br>
<a href="#about-herox">hero X (who)</a><br>
<a href="#about-heroy">hero Y (who)</a><br>
<a href="#about-hidebattlehealthmeter">hide battle health meter (state)</a><br>
<a href="#about-hidebattlereadymeter">hide battle ready meter (state)</a><br>
<a href="#about-hoursofplay">hours of play</a><br>
<a href="#about-if">if(condition) then(commands) else(commands)</a><br>
<a href="#about-include">include, filename</a><br>
<a href="#about-increment">increment (variable,amount)</a><br>
<a href="#about-initmouse">init mouse</a><br>
<a href="#about-inventory">inventory (item)</a><br>
<a href="#about-itemsmenu">items menu</a><br>
<a href="#about-keyispressed">key is pressed (scancode)</a><br>
<a href="#about-knowsspell">knows spell (hero,attack)</a><br>
<a href="#about-leader">leader</a><br>
<a href="#about-lastsaveslot">last save slot</a><br>
<a href="#about-loadtileset">load tileset (set)</a><br>
<a href="#about-lockhero">lock hero (who)</a><br>
<a href="#about-losemoney">lose money (amount)</a><br>
<a href="#about-maximumstat">maximum stat</a><br>
<a href="#about-me">me</a><br>
<a href="#about-minutesofplay">minutes of play</a><br>
<a href="#about-mousebutton">mouse button (which)</a><br>
<a href="#about-mousepixelx">mouse pixel X</a><br>
<a href="#about-mousepixely">mouse pixel Y</a><br>
<a href="#about-mouseregion">mouse region (xmin,xmax,ymin,ymax)</a><br>
<a href="#about-none">none</a><br>
<a href="#about-npcatspot">NPC at spot (x,y,number)</a><br>
<a href="#about-npccopycount">NPC copy count (ID)</a><br>
<a href="#about-npcdirection">NPC direction (who)</a><br>
<a href="#about-npciswalking">NPC is walking (who)</a><br>
<a href="#about-npcpixelx">NPC pixel X (who)</a><br>
<a href="#about-npcpixely">NPC pixel Y (who)</a><br>
<a href="#about-npcreference">NPC reference (ID,copy)</a><br>
<a href="#about-npcx">NPC X (who)</a><br>
<a href="#about-npcy">NPC Y (who)</a><br>
<a href="#about-greaterthan">number &gt;&gt; number</a><br>
<a href="#about-greaterthanorequalto">number &gt;= number</a><br>
<a href="#about-notequal">number &lt;&gt; number</a><br>
<a href="#about-lessthan">number &lt;&lt; number</a><br>
<a href="#about-lessthanorequalto">number &lt;= number</a><br>
<a href="#about-multiply">number * number</a><br>
<a href="#about-add">number + number</a><br>
<a href="#about-subtract">number -- number</a><br>
<a href="#about-divide">number / number</a><br>
<a href="#about-equal">number == number</a><br>
<a href="#about-exponent">number ^ power</a><br>
<a href="#about-mod">number,mod,number</a><br>
<a href="#about-ordermenu">order menu</a><br>
<a href="#about-pancamera">pan camera (direction,distance,pixelstep)</a><br>
<a href="#about-paymoney">pay money (amount)</a><br>
<a href="#about-pickhero">pick hero</a><br>
<a href="#about-playsong">play song (song)</a><br>
<a href="#about-putcamera">put camera (x,y)</a><br>
<a href="#about-puthero">put hero (who,x,y)</a><br>
<a href="#about-putmouse">put mouse (x,y)</a><br>
<a href="#about-putnpc">put npc (who,x,y)</a><br>
<a href="#about-random">random(lownumber, highnumber)</a><br>
<a href="#about-rankincaterpillar">rank in caterpillar (who)</a><br>
<a href="#about-readcolor">read color (index,element)</a><br>
<a href="#about-readglobal">read global (id)</a><br>
<a href="#about-readmapblock">read map block (x,y)</a><br>
<a href="#about-readpassblock">read pass block (x,y)</a><br>
<a href="#about-readspell">read spell (hero,list,slot)</a><br>
<a href="#about-renameherobyslot">rename hero by slot(who)</a><br>
<a href="#about-renamehero">rename hero(who)</a><br>
<a href="#about-resetpalette">reset palette</a><br>
<a href="#about-resumeboxadvance">resume box advance</a><br>
<a href="#about-resumecaterpillar">resume caterpillar</a><br>
<a href="#about-resumeherowalls">resume hero walls</a><br>
<a href="#about-resumenpcwalls">resume NPC walls</a><br>
<a href="#about-resumenpcs">resume NPCs</a><br>
<a href="#about-resumeobstruction">resume obstruction</a><br>
<a href="#about-resumeoverlay">resume overlay</a><br>
<a href="#about-resumeplayer">resume player</a><br>
<a href="#about-resumerandomenemys">resume random enemys</a><br>
<a href="#about-return">return(value)</a><br>
<a href="#about-roominactiveparty">room in active party</a><br>
<a href="#about-savemenu">save menu</a><br>
<a href="#about-saveinslot">save in slot (slot)</a><br>
<a href="#about-script">script,name (statements)</a><br>
<a href="#about-setbattlewaitmode">set battle wait mode (state)</a><br>
<a href="#about-setcaterpillarmode">set caterpillar mode (state)</a><br>
<a href="#about-setdeathscript">set death script (id)</a><br>
<a href="#about-setdebugkeys">set debug keys disable (state)</a><br>
<a href="#about-setdefaultweapon">set default weapon (hero,item)</a><br>
<a href="#about-setfullheroswapmode">set full hero swap mode (state)</a><br>
<a href="#about-setherodirection">set hero direction (who,direction)</a><br>
<a href="#about-setheroframe">set hero frame (who,frame)</a><br>
<a href="#about-setheropalette">set hero palette (who,palette,type)</a><br>
<a href="#about-setheropicture">set hero picture (who,picture,type)</a><br>
<a href="#about-setheroposition">set hero position (who,X,Y)</a><br>
<a href="#about-setherospeed">set hero speed (who,speed)</a><br>
<a href="#about-setherostat">set hero stat (who,stat,value,type)</a><br>
<a href="#about-setheroz">set hero Z (who,Z)</a><br>
<a href="#about-setinnnorevivemode">set inn no revive mode (state)</a><br>
<a href="#about-setloadscript">set load script (id)</a><br>
<a href="#about-setnoHPleveluprestore">set no HP level up restore (state)</a><br>
<a href="#about-setnoMPleveluprestore">set no MP level up restore (state)</a><br>
<a href="#about-setnpcdirection">set NPC direction (who,direction)</a><br>
<a href="#about-setnpcframe">set NPC frame (who,frame)</a><br>
<a href="#about-setnpcposition">set NPC position (who,X,Y)</a><br>
<a href="#about-setnpcspeed">set NPC speed (who,speed)</a><br>
<a href="#about-settag">set tag (tag,value)</a><br>
<a href="#about-setvariable">set variable (variable,value)</a><br>
<a href="#about-setvictorymusic">set victory music (song)</a><br>
<a href="#about-showbackdrop">show backdrop (number)</a><br>
<a href="#about-showmap">show map</a><br>
<a href="#about-showminimap">show mini map</a><br>
<a href="#about-shownovalue">show no value</a><br>
<a href="#about-showtextbox">show text box (number)</a><br>
<a href="#about-showvalue">show value (number)</a><br>
<a href="#about-spellsmenu">spells menu (who)</a><br>
<a href="#about-statusscreen">status screen (who)</a><br>
<a href="#about-stopsong">stop song</a><br>
<a href="#about-suspendboxadvance">suspend box advance</a><br>
<a href="#about-suspendcaterpillar">suspend caterpillar</a><br>
<a href="#about-suspendherowalls">suspend hero walls</a><br>
<a href="#about-suspendnpcwalls">suspend NPC walls</a><br>
<a href="#about-suspendnpcs">suspend NPCs</a><br>
<a href="#about-suspendobstruction">suspend obstruction</a><br>
<a href="#about-suspendoverlay">suspend overlay</a><br>
<a href="#about-suspendplayer">suspend player</a><br>
<a href="#about-suspendrandomenemys">suspend random enemys</a><br>
<a href="#about-swapbyname">swap by name (name,name)</a><br>
<a href="#about-swapbyposition">swap by position (position,position)</a><br>
<a href="#about-swapinhero">swap in hero (who)</a><br>
<a href="#about-swapouthero">swap out hero (who)</a><br>
<a href="#about-teachspell">teach spell (hero,attack)</a><br>
<a href="#about-teammenu">team menu</a><br>
<a href="#about-teleporttomap">teleport to map (map,x,y)</a><br>
<a href="#about-tweakpalette">tweak palette (red, green ,blue ,first,last)</a><br>
<a href="#about-unequip">unequip (hero,slot)</a><br>
<a href="#about-unlockhero">unlock hero (who)</a><br>
<a href="#about-updatepalette">update palette</a><br>
<a href="#about-usedoor">use door (number)</a><br>
<a href="#about-usenpc">Use NPC (who)</a><br>
<a href="#about-useshop">use shop (shop)</a><br>
<a href="#about-and">value,and,value</a><br>
<a href="#about-or">value,or,value</a><br>
<a href="#about-xor">value,xor,value</a><br>
<a href="#about-variable">variable (name)</a><br>
<a href="#about-wait">wait (ticks)</a><br>
<a href="#about-waitforall">wait for all</a><br>
<a href="#about-waitforcamera">wait for camera</a><br>
<a href="#about-waitforhero">wait for hero (who)</a><br>
<a href="#about-waitforkey">wait for key (key)</a><br>
<a href="#about-waitfornpc">wait for NPC (who)</a><br>
<a href="#about-waitfortextbox">wait for text box</a><br>
<a href="#about-walkhero">walk hero (who,direction,distance)</a><br>
<a href="#about-walkherotox">walk hero to X (who,X)</a><br>
<a href="#about-walkherotoy">walk hero to Y (who,Y)</a><br>
<a href="#about-walknpc">walk NPC (who,direction,distance)</a><br>
<a href="#about-walknpctox">walk NPC to X (who,X)</a><br>
<a href="#about-walknpctoy">walk NPC to Y (who,Y)</a><br>
<a href="#about-while">while(condition) do(commands)</a><br>
<a href="#about-writecolor">write color (index,element,value)</a><br>
<a href="#about-writeglobal">write global (id,value)</a><br>
<a href="#about-writemapblock">write map block (x,y,value)</a><br>
<a href="#about-writepassblock">write pass block (x,y,value)</a><br>
<a href="#about-writespell">write spell (hero,list,slot,attack)</a><br>

</p>

<hr>

<a name="declare"></a>
<font color="#f06060" size="4">declarations</font><br>

<a name="about-definescript"></a>
<p>
<tt>
<b><font color="yellow">define script (id,name,aruments)</font></b><br>
The define script command names a script, and associates it with an ID
number. Every script must have a unique ID number for your game to call
it directly (scripts that will only be called indirectly, by other
scripts can use the special ID <a href="#about-autonumber">autonumber</a>).
The first argument is the ID number. It is a number between 1 and
16383. If you try to give two individual scripts the same ID number,
your script file will not compile. The next argument is the name of the
script. this is the same name that will used later in your <a href="#about-script">script</a>
command. The third argument is the number of arguments that the script
can accept. If it doesnt need any arguments (most scripts dont) then
use <a href="#about-none">none</a>. If there are arguments, you then follow the argument count with default values for each argument.<br>
<pre class="hss"> # example of a simple script definition
 define script (1,my first script,none)

 # example of a script definition with arguments. this script
 # has three arguments, all of which default to zero if they
 # are not specified
 define script (2,my fancy script,3,0,0,0)
</pre>
</tt>
</p>

<a name="about-script"></a>
<p>
<tt>
<b><font color="yellow">script,name (statements)<br>script,name,argumentnames (statements)</font></b><br>
the script command contains the actual source code of a plotscript. every script command must have a corresponding <a href="#about-definescript">define script</a> statement. Script starts with the keyword <b>script</b>,
a comma, and then the name of the script. If there are any arguments to
the script, you list their names separated by commas after the name of
the script. Then comes the text of the script. It is usually enclosed
in <a href="#about-begin">begin</a> and <a href="#about-end">end</a> statements.
</tt></p><pre class="hss"><tt> # example of a simple script
 script,my first script,begin
   # commands go here
 end

 # example of a script with arguments
 script,my fancy script,fe,fi,fo,begin
   # commands go here,
   # and they can use the aruments fe, fi, and fo
   # that where passed to the script
 end
</tt></pre>

<p></p>

<a name="about-globalvariable"></a>
<p>
<tt>
<b><font color="yellow">global variable (id,name)</font></b><br>
Creates a global variable that can be used in any script. The first
argument to the global variable declaration is a unique ID number. The
second argument is the name of the variable. The ID number for a global
variable is a number from 0 to 1024. Each global variable must have a
unique number, but this number will not conflict with the ID numbers
you use for scripts. It is allright to have a script and a global
variable with the same ID number.<br>
See also <a href="#about-variable">variable</a><br>
<br>
</tt></p><pre class="hss"><tt># any script can read and set the value of a global,
global variable(1,mini game score)
</tt></pre>

<p></p>

<a name="about-variable"></a>
<p>
<tt>
<b><font color="yellow">variable (name)</font></b><br>
Creates a local variable that can only be used inside the script where
it was created. The value of this variable is lost when the script
ends. If you need a variable who's value persists between calls to a
script, or that is automatically saved when the player saves their
game, you will need to use a <a href="#about-globalvariable">global variable</a> instead.
</tt>
</p>

<a name="about-defineconstant"></a>
<p>
<tt>
<b><font color="yellow">define constant (number,name)</font></b><br>
Creates a global constant. The first argument is the number that the
constant will represent, and the second argument is the name of the
constant. Use constants to replace commonly used numbers with friendly
names. The following constants have been delacred for you in
PLOTSRC.HSD
</tt>
</p>
<p>
<tt>
<a href="#about-zero">zero</a>
<a href="#about-one">one</a>
<a href="#about-two">two</a>
<a href="#about-three">three</a>
<a href="#about-four">four</a>
<a href="#about-five">five</a>
<a href="#about-six">six</a>
<a href="#about-seven">seven</a>


<a href="#about-eight">eight</a>
<a href="#about-nine">nine</a>
<a href="#about-ten">ten</a>
<a href="#about-false">false</a>
<a href="#about-true">true</a>
<a href="#about-off">off</a>
<a href="#about-on">on</a>
<a href="#about-north">north</a>
<a href="#about-east">east</a>
<a href="#about-south">south</a>
<a href="#about-west">west</a>
<a href="#about-up">up</a>
<a href="#about-down">down</a>
<a href="#about-left">left</a>
<a href="#about-right">right</a>
<a href="#about-upkey">upkey</a>
<a href="#about-downkey">downkey</a>
<a href="#about-leftkey">leftkey</a>
<a href="#about-rightkey">rightkey</a>
<a href="#about-usekey">usekey</a>
<a href="#about-cancelkey">cancelkey</a>
<a href="#about-menukey">menukey</a>
<a href="#about-anykey">anykey</a>
<a href="#about-me">me</a>
<a href="#about-none">none</a>
<a href="#about-autonumber">autonumber</a>
<a href="#about-currentstat">currentstat</a>
<a href="#about-maximumstat">maximumstat</a>
<a href="#about-northwall">north wall</a>
<a href="#about-eastwall">east wall</a>
<a href="#about-southwall">south wall</a>
<a href="#about-westwall">west wall</a>
<a href="#about-vehiclea">vehicle A</a>
<a href="#about-vehicleb">vehicle B</a>
<a href="#about-harmtile">harm tile</a>
<a href="#about-overheadtile">overhead tile</a>
</tt>
</p>

<a name="about-include"></a><a name="about-plotscr.hsd"></a>
<p>
<tt>
<b><font color="yellow">include, filename</font></b><br>The include
command inserts another text file into your script. It is followed by a
single filename that tells what file will be included. Windows long
filenames are <b>not</b> supported.<br>
</tt>
</p>
<p>
<tt>
Every plotscript file should start with <b>include, plotscr.hsd</b> The PLOTSCR.HSD file contains definitions and constants for most of the other plotscripting commands.
</tt>
</p>

<hr>

<a name="wait"></a>
<font color="#f06060" size="4">Wait Commands</font><br>

<a name="about-wait"></a>
<p>
<tt>
<b><font color="yellow">wait (ticks)</font></b><br>
Makes the script wait for the specified number of ticks. I havent timed
how many ticks there are in a second, but I would guess roughly 15. If
you leave out the argument, it will wait for one tick.
</tt>
</p>

<a name="about-waitfortextbox"></a>
<p>
<tt>
<b><font color="yellow">wait for text box</font></b><br>
makes the script wait until there is no text box displaying on the screen. Useful to know when to move on after using a <a href="#about-showtextbox">show text box</a> command
</tt>
</p>

<a name="about-waitforhero"></a>
<p>
<tt>
<b><font color="yellow">wait for hero (who)</font></b><br>
Waits for the specified hero stop walking. Use the constant <font color="yellow">me</font>
to refer to the leader, or use numbers 0,1,2,3 to refer to a specific
hero. If you leave out the argument, the first hero will be assumed.
</tt>
</p>

<a name="about-waitforkey"></a>
<p>
<tt>
<b><font color="yellow">wait for key (key)</font></b><br>
Waits for the player to press a key. You can use the follwing constants:
<a href="#about-anykey">any key</a>,
<a href="#about-upkey">up key</a>,
<a href="#about-downkey">down key</a>,
<a href="#about-leftkey">left key</a>,
<a href="#about-rightkey">right key</a>,
<a href="#about-usekey">use key</a>,
<a href="#about-cancelkey">cancel key</a>, or
<a href="#about-menukey">menu key</a>.
If you do not specify, then any key will be used.
</tt>
</p>

<a name="about-waitfornpc"></a>
<p>
<tt>
<b><font color="yellow">wait for NPC (who)</font></b><br>Waits for the
specified NPC to stop walking. The argument is the number of the NPC, 0
to 35. If more than one copy of the NPC exists on the map, it only
checks the first one.
</tt>
</p>

<a name="about-waitforcamera"></a>
<p>
<tt>
<b><font color="yellow">wait for camera</font></b><br>
Waits for the camera to stop moving after a <a href="#about-pancamera">pan camera</a> or <a href="#about-focuscamera">focus camera</a> command.
</tt>
</p>

<a name="about-waitforall"></a>
<p>
<tt>
<b><font color="yellow">wait for all</font></b><br>
Waits for any camera motion to stop, waits for all heros to stop walking, and if <a href="#about-suspendnpcs">suspend NPCs</a> is active, waits for all NPCs to stop walking.
</tt>
</p>

<hr>

<a name="suspend"></a>
<font color="#f06060" size="4">Suspend and Resume</font><br>

<a name="about-suspendplayer"></a>
<p>
<tt>
<b><font color="yellow">suspend player</font></b><br>Blocks the player
from controlling the game, so the plotscript can have exclusive
control. The one exception to this is text boxes. The player can
advance text boxes no matter what.
</tt>
</p>

<a name="about-resumeplayer"></a>
<p>
<tt>
<b><font color="yellow">resume player</font></b><br>
Restores normal control after a <a href="#about-suspendplayer">suspend player</a>
command. This is very important. If you use suspend player, but forget
resume player, the game will be stuck after the script ends.
</tt>
</p>

<a name="about-suspendnpcs"></a>
<p>
<tt>
<b><font color="yellow">suspend NPCs</font></b><br>Stops NPCs from
walking around automatically. When Suspend NPCs is run, all NPCs stop
in their tracks, ready for you to control them with the <a href="#about-walknpc">walk NPC</a> command
</tt>
</p>

<a name="about-resumenpcs"></a>
<p>
<tt>
<b><font color="yellow">resume NPCs</font></b><br>
Restores automatic NPC movement after a <a href="#about-suspendnpcs">suspend NPCs</a> command
</tt>
</p>

<a name="about-suspendobstruction"></a>
<p>
<tt>
<b><font color="yellow">suspend obstruction</font></b><br>
Allows heros to walk through NPCs, allows NPCs to walk through heros, and allows NPCs to walk through each other.  Use <a href="#about-resumeobstruction">resume obstruction</a> to restore normal obstruction behavior.
</tt>
</p>

<a name="about-resumeobstruction"></a>
<p>
<tt>
<b><font color="yellow">resume obstruction</font></b><br>
Restores normal obstruction after a <a href="#about-suspendobstruction">suspend obstruction</a> command
</tt>
</p>

<a name="about-suspendherowalls"></a>
<p>
<tt>
<b><font color="yellow">suspend hero walls</font></b><br>
Allows heros to walk through walls. Use <a href="#about-resumeherowalls">resume hero walls</a> to restore normal wall behavior.
</tt>
</p>

<a name="about-resumeherowalls"></a>
<p>
<tt>
<b><font color="yellow">resume hero walls</font></b><br>
Restores normal wall behavior after a <a href="#about-suspendherowalls">suspend hero walls</a> command
</tt>
</p>

<a name="about-suspendnpcwalls"></a>
<p>
<tt>
<b><font color="yellow">suspend NPC walls</font></b><br>
Allows NPCs to walk through walls. Use <a href="#about-resumenpcwalls">resume NPC walls</a> to restore normal wall behavior.
</tt>
</p>

<a name="about-resumenpcwalls"></a>
<p>
<tt>
<b><font color="yellow">resume NPC walls</font></b><br>
Restores normal wall behavior after a <a href="#about-suspendnpcwalls">suspend NPC walls</a> command.
</tt>
</p>

<a name="about-suspendcaterpillar"></a>
<a name="about-suspendcatapillar"></a>
<p>
<tt>
<b><font color="yellow">suspend caterpillar</font></b><br>
Stops your other heros from following the leader. This is useful when you want to control them individually with <a href="#about-walkhero">walk hero</a> commands. In earlier versions this was misspelled as <b>suspend catapillar</b>. The old spelling still works for backwards compatability.
</tt>
</p>

<a name="about-resumecaterpillar"></a>
<a name="about-resumecatapillar"></a>
<p>
<tt>
<b><font color="yellow">resume caterpillar</font></b><br>
Reverses the <a href="#about-suspendcaterpillar">suspend caterpillar</a> command, and makes your other heors follow the leader as normal. In earlier versions this was misspelled as <b>resume catapillar</b>. The old spelling still works for backwards compatability.
</tt>
</p>

<a name="about-suspendrandomenemys"></a>
<p>
<tt>
<b><font color="yellow">suspend random enemys</font></b><br>
Prevents enemies from attacking your party while walking over tiles
that can normally spawn random battles. This is useful to prevent
battles from interrupting a plotscript.
</tt>
</p>

<a name="about-resumerandomenemys"></a>
<p>
<tt>
<b><font color="yellow">resume random enemys</font></b><br>
Undoes the <a href="#about-suspendrandomenemys">suspend random enemys</a> and allows random battles to occur as normal.
</tt>
</p>

<a name="about-suspendboxadvance"></a>
<p>
<tt>
<b><font color="yellow">suspend box advance</font></b><br>Prevents the
player from advancing or clearing text boxes by pressing keys. While
this is active, the only way to make a text box advance is with the <a href="#about-advancetextbox">advance text box</a> command. Be very careful with this command, since you do not want to leave the player stuck on a text box forever
</tt>
</p>

<a name="about-resumeboxadvance"></a>
<p>
<tt>
<b><font color="yellow">resume box advance</font></b><br>
Undoes the <a href="#about-suspendboxadvance">suspend box advance</a> and allows the player to advance and clear text boxes by pressing keys as normal.
</tt>
</p>

<a name="about-suspendoverlay"></a>
<p>
<tt>
<b><font color="yellow">suspend overlay</font></b><br>
Prevents overhead tiles from being drawn over heros and NPCs
</tt>
</p>

<a name="about-resumeoverlay"></a>
<p>
<tt>
<b><font color="yellow">resume overlay</font></b><br>
Causes overhead tiles to be drawn over heros and NPCs as normal
</tt>
</p>

<hr>

<a name="movehero"></a>
<font color="#f06060" size="4">Moving Heros</font><br>

<a name="about-walkhero"></a>
<p>
<tt>
<b><font color="yellow">walk hero (who,direction,distance)</font></b><br>
Makes the specified hero move in the specified direction for the
specified number of tiles. The first argument tells who to move. Use <font color="yellow">me</font> or numbers 0-3. The second argument is the direction. Use the constants:
<font color="yellow">north</font>,
<font color="yellow">south</font>,
<font color="yellow">east</font>,
<font color="yellow">west</font>,
<font color="yellow">up</font>,
<font color="yellow">down</font>,
<font color="yellow">left</font>, or
<font color="yellow">right</font>.
The third argument is the number of tiles to move. If you leave out the third argument, the hero will move one tile.
<font color="yellow">walk hero</font> is usually used with the <a href="#about-waitforhero">wait for hero</a> command.
You should normally use the <a href="#about-suspendplayer">suspend player</a> command before moving heros, and if you want to move heros other than the leader, you should use the <a href="#about-suspendcaterpillar">suspend caterpillar</a> command.
</tt>
</p>

<a name="about-setherodirection"></a>
<p>
<tt>
<b><font color="yellow">set hero direction (who,direction)</font></b><br>
Makes the specified hero face in the specified direction. The following constants are avaialable for direction:
<font color="yellow">north</font>,
<font color="yellow">south</font>,
<font color="yellow">east</font>,
<font color="yellow">west</font>,
<font color="yellow">up</font>,
<font color="yellow">down</font>,
<font color="yellow">left</font>, or
<font color="yellow">right</font>.
</tt>
</p>

<a name="about-setheroframe"></a>
<p>
<tt>
<b><font color="yellow">set hero frame (who,frame)</font></b><br>
Sets the walking frame of the specified hero to 0 or 1.
</tt>
</p>

<a name="about-setheroposition"></a>
<p>
<tt>
<b><font color="yellow">set hero position (who,X,Y)</font></b><br>
Instantly moves the specified hero to an X,Y position on the map. The
coordinates are in units of tiles. For pixel-positioning use the <a href="#about-puthero">put hero</a> command.
</tt>
</p>

<a name="about-setheroz"></a>
<p>
<tt>
<b><font color="yellow">set hero Z (who,Z)</font></b><br>
Sets the Z location of the specified hero. The Z location is the number
of pixels above the tile they are standing on. Useful for scripts where
you want a hero to jump or levitate.
</tt>
</p>

<a name="about-walkherotox"></a>
<p>
<tt>
<b><font color="yellow">walk hero to X (who,X)</font></b><br>
Makes the specified hero walk to a given X coordinate on the map
</tt>
</p>

<a name="about-walkherotoy"></a>
<p>
<tt>
<b><font color="yellow">walk hero to Y (who,Y)</font></b><br>
Makes the specified hero walk to a given Y coordinate on the map
</tt>
</p>

<a name="about-setherospeed"></a>
<p>
<tt>
<b><font color="yellow">set hero speed (who,speed)</font></b><br>Changes
the walking speed of the specified hero. If you do not specify a speed,
the hero's speed will return to the default, 4. Be careful with using
speeds that do not divide evenly into 20, because tiles are 20 pixels
in size, and an irregular walking speed may cause your hero to become
misaligned with the tiles.
</tt>
</p>

<a name="about-usedoor"></a>
<p>
<tt>
<b><font color="yellow">use door (number)</font></b><br>
instantly uses the numbered door, just as if you had stepped into it.
</tt>
</p>

<a name="about-teleporttomap"></a>
<p>
<tt>
<b><font color="yellow">teleport to map (map,x,y)</font></b><br>
An alternative to <a href="#about-usedoor">use door</a>,
teleport to map moves you to a given x,y position on the specified map
without the need to create a door-link on the map. Teleport to map does
not fade to black.
</tt>
</p>

<a name="about-dismountvehicle"></a>
<p>
<tt>
<b><font color="yellow">dismount vehicle</font></b><br>
Makes you dismount whatever vehicle you are riding. If you are not riding a vehicle, nothing will happen.
</tt>
</p>

<a name="about-heroiswalking"></a>
<p>
<tt>
<b><font color="yellow">hero is walking (who)</font></b><br>Returns
true if the specified hero (by position in the caterpillar) is
currently walking. Returns false if the hero is standing still
</tt>
</p>

<a name="about-puthero"></a>
<p>
<tt>
<b><font color="yellow">put hero (who,x,y)</font></b><br>Moves a hero
to a precise location on the map. The first argument is the hero's
position in the walkabout party. The second and third arguments are the
X,Y pixel position relative to the top left corner of the map. Be aware
that using this command can mis-align your hero with the tile-grid,
preventing it from walking normally. To position the hero by tile, use
the <a href="#about-setheroposition">set hero position</a> command.
</tt>
</p>

<hr>

<a name="movenpc"></a>
<font color="#f06060" size="4">Moving NPCs</font><br>

<a name="about-npcreference"></a>
<p>
<tt>
<b><font color="yellow">NPC reference (ID,copy)</font></b><br>
What is an NPC reference? A reference is a number that uniquely
identifies an NPC on a map. You can use an NPC reference to specify
which NPC you are controlling in most NPC-related commands. The first
argument to <b>NPC reference</b>
is the ID number of the NPC you want to work with. The ID is the same
number that appears in CUSTOM.EXE when you are editing NPCs or placing
NPCs on the map. The second argument is optional. It specifies which
copy of the NPC you want, in case there are more than one on the map.
If you dont specify which copy you want, you will just get a reference
to the first NPC on the map with the right ID. If you plan on using the
same NPC reference many times in a script you can store it in a <a href="#about-variable">variable</a>. If the NPC with the ID you asked for (or the NPC copy you asked for with ID you asked for) is not found on the map then <b>NPC reference</b> will return false (zero)
</tt></p><pre class="hss"><tt>include,plotscr.hsd
define script(1,ref example,none)

#---NPC reference example---

script,ref example,begin

  variable(Fred)

  # find the first copy of NPC 10,
  # and store the reference in a variable
  set variable(Fred,NPC reference(10,0))

  # now we can manipulate that NPC with the variable
  walk NPC     (Fred,south,3)
  wait for NPC (Fred)

  # make the NPC spin!
  set NPC direction (Fred,east)  
  wait(2)
  set NPC direction (Fred,north)  
  wait(2)
  set NPC direction (Fred,west)  
  wait(2)
  set NPC direction (Fred,south)  
  wait(2)

end

</tt></pre>
<tt>See also <a href="#about-npcatspot">NPC at spot</a>, <a href="#about-npcatpixel">NPC at pixel</a> and <a href="#about-createnpc">create NPC</a>
</tt>
<p></p>

<a name="about-npcatspot"></a>
<p>
<tt>
<b><font color="yellow">NPC at spot (x,y,number)</font></b><br>
This command returns a reference to the NPC at the given X and Y
coordinate on the map. The optional third argument lets you choose
which NPC to reference in case there is more than one NPC standing on
that same spot (starting from the bottommost npc, which is number 0). 
You can also pass the constant <b><font color="yellow">npccount</font></b> 
for the third argument to return the total number of npcs on that tile.
For more info about NPC references see <a href="#about-npcreference">NPC reference</a>
</tt>
</p>

<a name="about-npcatpiexel"></a>
<p>
<tt>
<b><font color="yellow">NPC at pixel (x,y,number)</font></b><br>
This command returns a reference to the NPC at the given X and Y coordinate
in pixels. That is, any npc whose 20x20 sprite (including transparent 
sections) is over that pixel. The optional third argument lets you choose
which NPC to reference in case there is more than one NPC standing on
that same spot (starting from the bottommost npc, which is number 0). You can also 
pass the constant <b><font color="yellow">npccount</font></b> 
for the third argument to return the total number of npcs on that tile.
For more info about NPC references see <a href="#about-npcreference">NPC reference</a>
</tt>
</p>

<a name="about-walknpc"></a>
<p>
<tt>
<b><font color="yellow">walk NPC (who,direction,distance)</font></b><br>
Makes the specified NPC move in the specified direction for the
specified number of tiles. The first argument tells who to move. You
can use an <a href="#about-npcreference">NPC reference</a> or the NPC's ID number. The second argument is the direction. Use the constants:
<font color="yellow">north</font>,
<font color="yellow">south</font>,
<font color="yellow">east</font>,
<font color="yellow">west</font>,
<font color="yellow">up</font>,
<font color="yellow">down</font>,
<font color="yellow">left</font>, or
<font color="yellow">right</font>.
The third argument is the number of tiles to move. If you leave out the third argument, the NPC will move one tile. 
<font color="yellow">walk NPC</font> is usually used with the <a href="#about-waitfornpc">wait for NPC</a> command.
You should normally use the <a href="#about-suspendnpcs">suspend NPCs</a> command before moving NPCs to prevent their automatic movements from interfering with your scripted movements.
</tt>
</p>

<a name="about-setnpcdirection"></a>
<p>
<tt>
<b><font color="yellow">set NPC direction (who,direction)</font></b><br>
Makes the specified NPC face in the specified direction. The following constants are avaialable for direction:
<font color="yellow">north</font>,
<font color="yellow">south</font>,
<font color="yellow">east</font>,
<font color="yellow">west</font>,
<font color="yellow">up</font>,
<font color="yellow">down</font>,
<font color="yellow">left</font>, or
<font color="yellow">right</font>.
You can use either an <a href="#about-npcreference">NPC reference</a> or the NPC's ID number to specify which NPC will turn.
</tt>
</p>

<a name="about-setnpcframe"></a>
<p>
<tt>
<b><font color="yellow">set NPC frame (who,frame)</font></b><br>
Sets the walking frame of the specified NPC to 0 or 1.
You can use either an <a href="#about-npcreference">NPC reference</a> or the NPC's ID number to specify which NPC will change.
</tt>
</p>

<a name="about-setnpcposition"></a>
<p>
<tt>
<b><font color="yellow">set NPC position (who,X,Y)</font></b><br>
Instantly moves the specified NPC to an X,Y position on the map. The coordinates are in units of tiles.
You can use either an <a href="#about-npcreference">NPC reference</a> or the NPC's ID number to specify which NPC will be moved.
</tt>
</p>

<a name="about-walknpctox"></a>
<p>
<tt>
<b><font color="yellow">walk NPC to X (who,X)</font></b><br>
Makes the specified NPC walk to a given X coordinate on the map.
You can use either an <a href="#about-npcreference">NPC reference</a> or the NPC's ID number to specify which NPC will move.
</tt>
</p>

<a name="about-walknpctoy"></a>
<p>
<tt>
<b><font color="yellow">walk NPC to Y (who,Y)</font></b><br>
Makes the specified NPC walk to a given Y coordinate on the map.
You can use either an <a href="#about-npcreference">NPC reference</a> or the NPC's ID number to specify which NPC will move.
</tt>
</p>

<a name="about-setnpcspeed"></a>
<p>
<tt>
<b><font color="yellow">set NPC speed (who,speed)</font></b><br>
Changes the walking speed of the specified NPC. If you do not specify a
speed, the NPC's speed will return to the default, 4. Be careful with
using speeds that do not divide evenly into 20, because tiles are 20
pixels in size, and an irregular walking speed may cause the NPC to
become misaligned with the tiles.
<br>
Normally you would only give an NPC ID number to <b>set NPC speed</b>, but if you want to use an <a href="#about-npcreference">NPC reference</a> it will still work. Just remember that <b>set NPC speed</b> changes every copy of the NPC on the map, not just the specific one you referenced.
</tt>
</p>

<a name="about-npciswalking"></a>
<p>
<tt>
<b><font color="yellow">NPC is walking (who)</font></b><br>
Returns true if the specified NPC is currently walking. Returns false if the NPC is standing still.
You can use either an <a href="#about-npcreference">NPC reference</a> or the NPC's ID number to specify which NPC will be checked.
</tt>
</p>

<a name="about-getnpcid"></a>
<p>
<tt>
<b><font color="yellow">get NPC ID (reference)</font></b><br>
This command is the opposite of <a href="#about-npcreference">NPC reference</a>. If you give <b>get NPC ID</b> a reference to an NPC it will return the NPC's ID.
(Note: in some older versions, This command was useful if you needed to do an <a href="#about-alternpc">alter NPC</a> or a <a href="#about-setnpcspeed">set NPC speed</a>
on an NPC that you are working with by reference. This is no longer
neccisary, because both those commands now support NPC references
(although they still affect every copy of that NPC on the map) )
</tt>
</p>

<a name="about-npccopycount"></a>
<p>
<tt>
<b><font color="yellow">NPC copy count (ID)</font></b><br>This command
tells you how many copys of a particular NPC ID exist on the map. This
can be very useful if you want apply the same action to each copy of an
NPC on the map. Here is an example
</tt></p><pre class="hss"><tt>include,plotscr.hsd
define script(1,every NPC example,none)

#---NPC copy count example---

script,every NPC example,begin

  variable(loop,guard count,current guard)

  # the guard is NPC 10, and there are many copies of him on the map  
  set variable(guard count,NPC copy count(10))

  # this loop repeats once for each copy of NPC 10
  for(loop,0,guard count) do,begin

    set variable(current guard,NPC reference(10,loop))
    walk NPC(current guard,south,4)
    # if we added a "wait for NPC(current guard)" right here
    # then the guards would walk one t a time

  end

  # but we want them to all walk at the same time,
  # so we just wait here
  wait for all

end
</tt></pre>

<p></p>

<a name="about-changenpcid"></a>
<p>
<tt>
<b><font color="yellow">change NPC ID (reference,new ID)</font></b><br>
This command takes an <a href="#about-npcreference">NPC reference</a>
and lets you change the ID number of the NPC it points to. This means
that the NPC will now use a different picture, an different palette, a
different walking speed, an different text box, everything. This change
is not permanent. It only lasts until the next time a map gets loaded.
</tt>
</p>

<a name="about-createnpc"></a>
<p>
<tt>
<b><font color="yellow">create NPC (ID,X,Y,direction)</font></b><br>This
command will magically create a new copy of an NPC with the given ID
number. You can specify an X and Y position where it will be created,
and optionally a direction too (if you leave out the direction, the new
NPC will be facing south). <b>create NPC</b> returns an <a href="#about-npcreference">NPC reference</a> that you can use to refer to the new NPC in other commands like <a href="#about-walknpc">walk NPC</a>. If the new NPC cannot be created (there is a maximum of 300 total NPC copies in memory at a time) then <b>create NPC</b> will return false (zero). The new NPC is not permanent. It only lasts until a new map is loaded.
</tt>
</p>

<a name="about-destroynpc"></a>
<p>
<tt>
<b><font color="yellow">destroy NPC (reference)</font></b><br>
This command will erase the specified NPC. You can use either an <a href="#about-npcreference">NPC reference</a> or the NPC's ID number. The deletion is not permanent. Unless this is an NPC that you created with <a href="#about-createnpc">create NPC</a>,
the NPC will be back again next time the map gets loaded. If you need
to permanently remove an NPC, use tags. (note that this only deletes
the one NPC you specify. If you use an NPC ID number as the argument,
only the first copy of the NPC on the map will be deleted) </tt>
</p>

<a name="about-putnpc"></a>
<p>
<tt>
<b><font color="yellow">put npc (who,x,y)</font></b><br>
Moves an NPC to a precise location on the map. The first argument is and <a href="#about-npcreference">NPC Reference</a>
or an NPC ID number. The second and third arguments are the X,Y pixel
position relative to the top left corner of the map. Be aware that
using this command can mis-align your NPC with the tile-grid,
preventing it from walking normally. To position the NPC by tile, use
the <a href="#about-setnpcposition">set NPC position</a> command.
</tt>
</p>

<hr>

<a name="movecam"></a>
<font color="#f06060" size="4">Moving the Camera</font><br>

<a name="about-camerafollowshero"></a>
<p>
<tt>
<b><font color="yellow">camera follows hero (who)</font></b><br>
Normally, the camera follows your leader. With this command, you can
make the camera follow any hero you want. If you leave out the
argument, the camera will follow your leader as normal.
</tt>
</p>

<a name="about-camerafollowsnpc"></a>
<p>
<tt>
<b><font color="yellow">camera follows NPC (who)</font></b><br>With
this command, you can make the camera follow an NPC instead of the
hero. If more than one copy of the specified NPC exists, the camera
will follow the first one. To revert the camera to normal, use <a href="#about-camerafollowshero">camera follows hero</a>.
</tt>
</p>

<a name="about-pancamera"></a>
<p>
<tt>
<b><font color="yellow">pan camera (direction,distance,pixelstep)</font></b><br>
This command causes the camera to stop following your leader and pan in
the specified direction. For direction, you can use the constants:
<font color="yellow">north</font>,
<font color="yellow">south</font>,
<font color="yellow">east</font>,
<font color="yellow">west</font>,
<font color="yellow">up</font>,
<font color="yellow">down</font>,
<font color="yellow">left</font>, or
<font color="yellow">right</font>.
The distance is the number of tiles you want the camera to move before
it stops. You can also specify the number of pixels you want the camera
to move for each tick. if you leave the last argument out, the camera
will move by 2 pixels per tick. This command is normally used with <a href="#about-waitforcamera">wait for camera</a>. To revert the camera to normal, use <a href="#about-camerafollowshero">camera follows hero</a>.
</tt>
</p>

<a name="about-focuscamera"></a>
<p>
<tt>
<b><font color="yellow">focus camera (x,y,speed)</font></b><br>
This command causes the camera to focus itself on the specified X,Y
coordinates of the map. These coordinates are in units of tiles. The
third argument, the speed, tells how fast the camera will pan. If you
do not specify a speed, the camera will pan 2 pixels per tick. This
command is normally used with <a href="#about-waitforcamera">wait for camera</a>. To revert the camera to normal, use <a href="#about-camerafollowshero">camera follows hero</a>.
</tt>
</p>

<a name="about-putcamera"></a>
<p>
<tt>
<b><font color="yellow">put camera (x,y)</font></b><br>
This command causes the top left corner of the camera to instantly jump
to the specified X,Y pixel coordinates of the map. These coordinates
are in units of pixels, not tiles. To position the camera by tiles,
just multiply the tile position by 20. To revert the camera to normal,
use <a href="#about-camerafollowshero">camera follows hero</a>.
</tt>
</p>

<hr>

<a name="textboxes"></a>
<font color="#f06060" size="4">Text Boxes</font><br>

<a name="about-showtextbox"></a>
<p>
<tt>
<b><font color="yellow">show text box (number)</font></b><br>
Displays the numbered text box, just as if you had talked to an NPC.
The text box will not actually pop up until the next wait command. This
command is most often used with the <a href="#about-waitfortextbox">wait for text box</a> command.
</tt>
</p>

<a name="about-advancetextbox"></a>
<p>
<tt>
<b><font color="yellow">advance text box</font></b><br>
Advances a text box just as if the player had pressed a key. For use while <a href="#about-suspendboxadvance">suspend box advance</a> is active.
</tt>
</p>

<hr>

<a name="trigger"></a>
<font color="#f06060" size="4">Triggering and Showing Stuff</font><br>

<a name="about-fightformation"></a>
<p>
<tt>
<b><font color="yellow">fight formation (number)</font></b><br>
Starts a battle with the numbered enemy formation. This command returns <a href="#about-false">false</a> if you lost or ran from battle, or <a href="#about-false">true</a> if you won.
</tt>
</p>

<a name="about-usenpc"></a>
<p>
<tt>
<b><font color="yellow">Use NPC (who)</font></b><br>
Remotely trigger an NPC. You can use either an <a href="#about-npcreference">NPC reference</a>
or an NPC ID number. Whatever actions are associated with triggering
that NPC will be taken, text box, script, vehicle, item, whatever.
</tt>
</p>

<a name="about-gameover"></a>
<p>
<tt>
<b><font color="yellow">game over</font></b><br>Resets the game and
returns you to the title screen. This command is most useful for
after-you-win-the-game type scripts, and for death-scripts that are
triggered when you lose in battle.
</tt>
</p>

<a name="about-showvalue"></a>
<p>
<tt>
<b><font color="yellow">show value (number)</font></b><br>Displays the
number in the bottom left corner of the screen. Useful for count-down
timers, and for debugging complicated scripts.
</tt>
</p>

<a name="about-shownovalue"></a>
<p>
<tt>
<b><font color="yellow">show no value</font></b><br>
Gets rid of the number in the bottom left corner of the screen after a <a href="#about-showvalue">show value</a> command.
</tt>
</p>

<a name="about-showbackdrop"></a>
<p>
<tt>
<b><font color="yellow">show backdrop (number)</font></b><br>displays
the specified full screen backdrop on the screen. This allows you to
show full screen pictures without attaching them to text boxes. You can
also do some simple animation effects by calling show backdrop many
times with <a href="#about-wait">wait</a> commands in between.
</tt>
</p>

<a name="about-showmap"></a>
<p>
<tt>
<b><font color="yellow">show map</font></b><br>
shows the map again after a <a href="#about-showbackdrop">show backdrop</a> command
</tt>
</p>

<a name="about-useshop"></a>
<p>
<tt>
<b><font color="yellow">use shop (shop)</font></b><br>
Takes you directly to a shop. You can specify the shop's ID number or its name in the form <font color="yellow">shop:name</font>
</tt>
</p>

<a name="about-showminimap"></a>
<p>
<tt>
<b><font color="yellow">show mini map</font></b><br>
Displays the mini-map
</tt>
</p>

<a name="about-itemsmenu"></a>
<p>
<tt>
<b><font color="yellow">items menu</font></b><br>
Takes you directly to the items menu. Note that if the player uses an item that calls up a text box, the <b>items menu</b> command will behave like a <a href="#about-showtextbox">show text box</a> command for that text box.
</tt>
</p>

<a name="about-statusscreen"></a>
<p>
<tt>
<b><font color="yellow">status screen (who)</font></b><br>
Takes you directly to a hero's status screen. Specify the hero using its position in the party 0-3. Use <a href="#about-findhero">find hero</a> if you want to specify the hero by name. The <a href="#about-pickhero">pick hero</a> command can also be useful.
</tt>
</p>

<a name="about-spellsmenu"></a>
<p>
<tt>
<b><font color="yellow">spells menu (who)</font></b><br>
Takes you directly to a hero's spells menu. Specify the hero using its position in the party 0-3. Use <a href="#about-findhero">find hero</a> if you want to specify the hero by name. The <a href="#about-pickhero">pick hero</a> command can also be useful.
</tt>
</p>

<a name="about-equipmenu"></a>
<p>
<tt>
<b><font color="yellow">equip menu (who)</font></b><br>
Takes you directly to a hero's equip menu. Specify the hero using its position in the party 0-3. Use <a href="#about-findhero">find hero</a> if you want to specify the hero by name. The <a href="#about-pickhero">pick hero</a> command can also be useful.
</tt>
</p>

<a name="about-savemenu"></a>
<p>
<tt>
<b><font color="yellow">save menu</font></b><br>
Takes you directly to the save menu. Will return a number 1-4 indicating the slot the player saved in, or <b>false</b> if the player did not save.<br>
<br>
See also <a href="#about-autosave">autosave</a>
</tt>
</p>

<a name="about-ordermenu"></a>
<p>
<tt>
<b><font color="yellow">order menu</font></b><br>
Takes you directly to the order menu, where you can change the order of the heroes in your active party.
</tt>
</p>

<a name="about-teammenu"></a>
<p>
<tt>
<b><font color="yellow">team menu</font></b><br>
Takes you directly to the team menu, where you can change the order of
the heroes in your active party, and swap heroes in and out of your
reserve.
</tt>
</p>

<hr>

<a name="addrem"></a>
<font color="#f06060" size="4">Adding and Removing</font><br>

<a name="about-getmoney"></a>
<p>
<tt>
<b><font color="yellow">get money (amount)</font></b><br>
Adds the specified amount to your party's money
</tt>
</p>

<a name="about-losemoney"></a>
<p>
<tt>
<b><font color="yellow">lose money (amount)</font></b><br>
Subtracts the specified amount from your party's money.
</tt>
</p>

<a name="about-paymoney"></a>
<p>
<tt>
<b><font color="yellow">pay money (amount)</font></b><br>A function
that checks to see if you have enough money to pay the amount
specified. If you do, it subtracts it, and returns true. If you do not
have enough, it subtracts nothing, but returns false. Intended for use
in <a href="#about-if">if</a> statements.
</tt>
</p>

<a name="about-addhero"></a>
<p>
<tt>
<b><font color="yellow">add hero (who)</font></b><br>
Puts the named hero in your party. If there is no room, the hero will
be added to your reserve. Use the constants defined in your HSI file.
They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-deletehero"></a>
<p>
<tt>
<b><font color="yellow">delete hero (who)</font></b><br>
Removes the named hero from your party. If you have more than one copy
of the hero in your party, only the first one will be deleted. Use the
constants defined in your HSI file. They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-swapinhero"></a>
<p>
<tt>
<b><font color="yellow">swap in hero (who)</font></b><br>
Moves the named hero in your from your reserves to your active party.
If there is no room in your active party, the hero will not be moved.
Use the constants defined in your HSI file. They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-swapouthero"></a>
<p>
<tt>
<b><font color="yellow">swap out hero (who)</font></b><br>
Moves the named hero from your active party into your reserve. Use the
constants defined in your HSI file. They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-lockhero"></a>
<p>
<tt>
<b><font color="yellow">lock hero (who)</font></b><br>
Locking a hero prevents the player from moving the hero on the <font color="yellow">party</font>
menu. Locked heros in the active party cannot be moved into the
reserve, and locked heros in the reserve are completely hidden. Also
prevents a hero from being moved by <a href="#about-swapinhero">swap in hero</a> or <a href="#about-swapouthero">swap out hero</a>. Use the constants defined in your HSI file. They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-unlockhero"></a>
<p>
<tt>
<b><font color="yellow">unlock hero (who)</font></b><br>
Reverses <a href="#about-lockhero">lock hero (who)</a>,
and makes it possible to move a hero in and out of the active party
again. Use the constants defined in your HSI file. They are in the form
of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-swapbyname"></a>
<p>
<tt>
<b><font color="yellow">swap by name (name,name)</font></b><br>
Swaps two named heros in your party no matter what position they are in. Use the names defined in your HSI file in the form <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-swapbyposition"></a>
<p>
<tt>
<b><font color="yellow">swap by position (position,position)</font></b><br>
Swaps two heros in your party based on their positions in the party
</tt>
</p>

<a name="about-getitem"></a>
<p>
<tt>
<b><font color="yellow">get item (item,number)</font></b><br>
Adds the specified number of the specified item to your inventory. If
you do not specify a number, only one will be added. You can refer to
the item by number, or you can use the constants defined in your HSI
file, which are in the form of <font color="yellow">item:name</font>
</tt>
</p>

<a name="about-deleteitem"></a>
<p>
<tt>
<b><font color="yellow">delete item (item,number)</font></b><br>
Removes the specified number of the specified item from your inventory.
If you do not specify a number, only one will be removed. You can refer
to the item by number, or you can use the constants defined in your HSI
file, which are in the form of <font color="yellow">item:name</font>
</tt>
</p>

<a name="about-unequip"></a>
<p>
<tt>
<b><font color="yellow">unequip (hero,slot)</font></b><br>
Removes the item that the specified hero has equipped in the specified
slot. The first argument is the position of the hero in your party, 0-3
for the active party, 4-40 for the reserve. (use <a href="#about-findhero">find hero</a> if you want to refer to the hero by name). The second argument is the slot to unequip. Use the number 1-5 or the names <font color="yellow">slot:weapon</font>, <font color="yellow">slot:armor</font>, etc.
</tt>
</p>

<a name="about-forceequip"></a>
<p>
<tt>
<b><font color="yellow">force equip (hero,slot,item)</font></b><br>
Forces a hero to equip an item, even if it is not normally equipable.
The first argument is the position of the hero in your party, 0-3 for
the active party, 4-40 for the reserve. (use <a href="#about-findhero">find hero</a> if you want to refer to the hero by name). The second argument is the slot to equip. Use the number 1-5 or the names <font color="yellow">slot:weapon</font>, <font color="yellow">slot:armor</font>, etc. The third argument is the item to equip. you can use the item's number or the <font color="yellow">item:name</font> constants from your .HSI file.
</tt>
</p>

<a name="about-equipwhere"></a>
<p>
<tt>
<b><font color="yellow">equip where (hero,item)</font></b><br>
Returns the number of the slot that a hero can equip an item in, or
false if the hero cannot equip it. The first argument is the position
of the hero in your party, 0-3 for the active party, 4-40 for the
reserve. (use <a href="#about-findhero">find hero</a>
if you want to refer to the hero by name). The second argument is the
item to check the equipability of. you can use the item's number or the
<font color="yellow">item:name</font> constants from your .HSI file.
</tt>
</p>

<a name="about-checkequipment"></a>
<p>
<tt>
<b><font color="yellow">check equipment (hero,slot)</font></b><br>
Returns the number of the item that the specified hero has equipped in
the specified slot, or -1 if there is nothing equipped there. The first
argument is the position of the hero in your party, 0-3 for the active
party, 4-40 for the reserve. (use <a href="#about-findhero">find hero</a> if you want to refer to the hero by name). The second argument is the slot to unequip. Use the number 1-5 or the names <font color="yellow">slot:weapon</font>, <font color="yellow">slot:armor</font>, etc.
</tt>
</p>

<a name="about-getdefaultweapon"></a>
<p>
<tt>
<b><font color="yellow">get default weapon (hero)</font></b><br>
Returns the number of the item that the specified hero uses as a
default weapon when no other weapon is equipped. The argument is the
position of the hero in your party, 0-3 for the active party, 4-40 for
the reserve. (use <a href="#about-findhero">find hero</a> if you want to refer to the hero by name).
</tt>
</p>

<a name="about-setdefaultweapon"></a>
<p>
<tt>
<b><font color="yellow">set default weapon (hero,item)</font></b><br>
Changes the item that the specified hero uses as a default weapon when
no other weapon is equipped. The first argument is the position of the
hero in your party, 0-3 for the active party, 4-40 for the reserve.
(use <a href="#about-findhero">find hero</a>
if you want to refer to the hero by name). The second argument is the
item to use as the new default weapon. you can use the item's number or
the <font color="yellow">item:name</font> constants from your .HSI file.
</tt>
</p>

<hr>

<a name="effects"></a>
<font color="#f06060" size="4">Effects</font><br>

<a name="about-playsong"></a>
<p>
<tt>
<b><font color="yellow">play song (song)</font></b><br>
Plays the specified song. Use the constants defined in your HSI file. They appear in the form of <font color="yellow">song:name</font>
</tt>
</p>

<a name="about-stopsong"></a>
<p>
<tt>
<b><font color="yellow">stop song</font></b><br>
Stops whatever music is currently playing.
</tt>
</p>

<a name="about-setvictorymusic"></a>
<p>
<tt>
<b><font color="yellow">set victory music (song)</font></b><br>
Changes the after-battle victory music to the specified song. Use the
constants defined in your HSI file. They appear in the form of <font color="yellow">song:name</font>
</tt>
</p>

<a name="about-fadescreenout"></a>
<p>
<tt>
<b><font color="yellow">fade screen out (red,green,blue)</font></b><br>
Fades the screen to a solid color. If you do not specify any arguments,
the screen will fade to black. The red, gree, blue values are numbers
from 0 to 63 that tell how bright that particular color should be.
(63,0,0) would be blood red. (40,0,40) would be purple. (63,63,63)
would be bright white. The screen will remain faded out until you run <a href="#about-fadescreenin">fade screen in</a>, fight a battle, or use a door.
</tt>
</p>

<a name="about-fadescreenin"></a>
<p>
<tt>
<b><font color="yellow">fade screen in</font></b><br>
Fades the screen back to normal after a <a href="#about-fadescreenout">fade screen out</a> command, or applys the changes made with other palette commands such as
<a href="#about-greyscalepalette">greyscale palette</a>,
<a href="#about-tweakpalette">tweak palette</a>,
<a href="#about-resetpalette">reset palette</a>,
and <a href="#about-writecolor">write color</a>.
</tt>
</p>

<a name="about-updatepalette"></a>
<p>
<tt>
<b><font color="yellow">update palette</font></b><br>
Instantly returns from <a href="#about-fadescreenout">fade screen out</a>, and applys changes made by other palette command such as
<a href="#about-greyscalepalette">greyscale palette</a>,
<a href="#about-tweakpalette">tweak palette</a>,
<a href="#about-resetpalette">reset palette</a>,
and <a href="#about-writecolor">write color</a>.
</tt>
</p>

<a name="about-greyscalepalette"></a>
<p>
<tt>
<b><font color="yellow">greyscale palette (first,last)</font></b><br>
converts a section of the master palette from color to greyscale. The
two arguments determine what range of colors will be affected. If
called with no arguments, the entire palette is affected.
Changes do not take effect until you call <a href="#about-updatepalette">update palette</a> or <a href="#about-fadescreenin">fade screen in</a>.
Changes to the master palette last as long as you are playing, but are
not stored in saved-games. If you need to make master-palette changes
persist in saved-games you will have to use the on-load plotscript
trigger.
</tt>
</p>

<a name="about-tweakpalette"></a>
<p>
<tt>
<b><font color="yellow">tweak palette (red, green ,blue ,first,last)</font></b><br>Color-Adjusts
a section of the master palette. The first three arguments are the
changes to make to the red, green, and blue values of each palette
color. For example, <b>tweak palette (20,-30,0)</b> would redden everything, and drop out most of the green. 
The last two arguments determine what range of colors will be affected. If they are left out, the entire palette is affected.
Changes do not take effect until you call <a href="#about-updatepalette">update palette</a> or <a href="#about-fadescreenin">fade screen in</a>.
Changes to the master palette last as long as you are playing, but are
not stored in saved-games. If you need to make master-palette changes
persist in saved-games you will have to use the on-load plotscript
trigger.
</tt>
</p>

<a name="about-resetpalette"></a>
<p>
<tt>
<b><font color="yellow">reset palette</font></b><br>
Releoads the default palette, undoing any changes you have made with other palette-altering commands such as <a href="#about-tweakpalette">tweak palette</a> or <a href="#about-greyscalepalette">greyscalepalette</a>
Changes do not take effect until you call <a href="#about-updatepalette">update palette</a> or <a href="#about-fadescreenin">fade screen in</a>
</tt>
</p>

<a name="about-readcolor"></a>
<p>
<tt>
<b><font color="yellow">read color (index,element)</font></b><br>Returns
a color value from the master palette. The first argument is the index
in the palette to read from, 0 to 255. The second argument is the color
value to read, red, green, or blue. You can use 0,1, and 2, or you can
use the predefined constants
<b>color:red</b>, <b>color:green</b>, and <b>color:blue</b>.
The counterpart to this is <a href="#about-writecolor">write color</a>
</tt>
</p>

<a name="about-writecolor"></a>
<p>
<tt>
<b><font color="yellow">write color (index,element,value)</font></b><br>Writes
a color value into the master palette. The first argument is the index
in the palette to write to, 0 to 255. The second argument is the color
value to write, red, green, or blue. You can use 0,1, and 2, or you can
use the predefined constants
<b>color:red</b>, <b>color:green</b>, and <b>color:blue</b>.
The third argument is the color value to write. It can be in the range of 0 to 63.
Changes do not take effect until you call <a href="#about-updatepalette">update palette</a> or <a href="#about-fadescreenin">fade screen in</a>
The counterpart to this is <a href="#about-readcolor">read color</a>.
Changes to the master palette last as long as you are playing, but are
not stored in saved-games. If you need to make master-palette changes
persist in saved-games you will have to use the on-load plotscript
trigger.
</tt>
</p>

<hr>

<a name="spells"></a>
<font color="#f06060" size="4">Hero's Spells</font><br>

<a name="about-teachspell"></a>
<p>
<tt>
<b><font color="yellow">teach spell (hero,attack)</font></b><br>
Tries to teach a hero a spell. The first argument is the hero's position in the party (as returned by <a href="#about-findhero">find hero</a>). The second argument is the attack to learn. You can use the names defined in your .HSI file in the form <font color="yellow">atk:attackname</font> (You may also use the attack's ID number. This is the number you see in the attack editor + 1)<br>
If the hero is capable of learning the spell, <font color="yellow">teach spell</font> will return <font color="yellow">true</font>, or if the hero cannot learn the spell it will return <font color="yellow">false</font>. Note that this only works when a spell is set to "learned from item". it will not work for spells learned based on level.
</tt>
</p>

<a name="about-forgetspell"></a>
<p>
<tt>
<b><font color="yellow">forget spell (hero,attack)</font></b><br>
Causes a hero to forget a spell. The first argument is the hero's position in the party (as returned by <a href="#about-findhero">find hero</a>). The second argument is the attack to forget. You can use the names defined in your .HSI file in the form <font color="yellow">atk:attackname</font> (You may also use the attack's ID number. This is the number you see in the attack editor + 1)<br>
If the hero does not know the spell, nothing happens.
</tt>
</p>

<a name="about-readspell"></a>
<p>
<tt>
<b><font color="yellow">read spell (hero,list,slot)</font></b><br>Returns
the ID number of a chosen spell slot, or 0 (false) if there is no spell
in that slot. The first argument is the hero's position in the party
(as returned by <a href="#about-findhero">find hero</a>).
The second argument is the number of the spell list to check. This is a
value from 0 to 3. The third argument is the slot to check. This is a
number from 0 to 23. Spell slots are numbered in rows, so the first row
is 0,1,2 the second row is 3,4,5, and so-on. </tt>
</p>

<a name="about-writespell"></a>
<p>
<tt>
<b><font color="yellow">write spell (hero,list,slot,attack)</font></b><br>
Forces a hero to learn a particular spell. The first argument is the hero's position in the party (as returned by <a href="#about-findhero">find hero</a>).
The second argument is the spell list to put the spell in. This is a
number from 0 to 3. The third argument is the slot to put the spell in.
This is a number from 0 to 23. Spell slots are numbered in rows, so the
first row is 0,1,2 the second row is 3,4,5, and so-on. The last
argument is the attack to put in the spell list. You can use the names
defined in your .HSI file in the form <font color="yellow">atk:attackname</font> (You may also use the attack's ID number. This is the number you see in the attack editor + 1)<br>
You can also erase a spell by writing 0 or <font color="yellow">none</font> as the attack ID.<br>
Note that this command will overwrite and replace any spell that is
already in that slot. If you overwrite a slot that can normally learn
another spell, you will never learn that other spell (unless you first
erase the spell you wrote there)
</tt>
</p>

<a name="about-knowsspell"></a>
<p>
<tt>
<b><font color="yellow">knows spell (hero,attack)</font></b><br>
Checks to see if a hero already knows a spell. The first argument is the hero's position in the party (as returned by <a href="#about-findhero">find hero</a>). The second argument is the attack to check for. You can use the names defined in your .HSI file in the form <font color="yellow">atk:attackname</font> (You may also use the attack's ID number. This is the number you see in the attack editor + 1)<br>
If the hero knows the spell, <font color="yellow">knows spell</font> will return <font color="yellow">true</font>. If the hero does not know the spell, it will return <font color="yellow">false</font>
</tt>
</p>

<a name="about-canlearnspell"></a>
<p>
<tt>
<b><font color="yellow">can learn spell (hero,attack)</font></b><br>
Checks to see if a hero is capable of learning a spell from an item or from the <a href="#about-teachspell">teach spell</a> command. The first argument is the hero's position in the party (as returned by <a href="#about-findhero">find hero</a>). The second argument is the attack to check for. You can use the names defined in your .HSI file in the form <font color="yellow">atk:attackname</font> (You may also use the attack's ID number. This is the number you see in the attack editor + 1)<br>
If the hero can learn the spell, <font color="yellow">can learn spell</font> will return <font color="yellow">true</font>. If the hero cannot learn the spell (or learns it from levelups), it will return <font color="yellow">false</font>
</tt>
</p>

<hr>

<a name="mouse"></a>
<font color="#f06060" size="4">Mouse Functions</font><br>

<a name="about-initmouse"></a>
<p>
<tt>
<b><font color="yellow">init mouse</font></b><br>

Initializes the mouse, returning true if one is present, and loads the mouse driver. This command much be run before any mouse functions can be used. Therefore, it is a good idea to place this command in the newgame and loadgame scripts if you are going to use the mouse. <br>
<br>
The mouse will start in the middle of the screen with bounds of 0-318 horizontally and 0-198 vertically. The bounds can be changed with the command <a href="#about-mouseregion">mouse region</a>, and you can reposition the mouse with <a href="#about-putmouse">put mouse</a>.<br>
<br>
NOTE: Running this command does not draw a cursor onscreen - your script must do this itself by placing an npc at the appropriate location. Here is an example
<pre class="hss">include,plotscr.hsd
define script(1,displaymouse,none)

#Mouse cursor example

script, display mouse, begin

  #start up the mouse
  init mouse
  
  #loop while the game is running
  while (true) do,begin
  
    #NPC 0 is the mouse cursor
    put npc (0, mouse pixel x + camera pixel x, mouse pixel y + camera pixel y)
    wait
  end
end
</pre>
</tt>
</p>

<a name="about-mousepixelx"></a>
<p>
<tt>
<b><font color="yellow">mouse pixel X</font></b><br>
Returns the x location in pixels of the mouse on the screen. <a href="#about-initmouse">Init mouse</a> must be called before this command can be used.
</tt>
</p>

<a name="about-mousepixely"></a>
<p>
<tt>
<b><font color="yellow">mouse pixel Y</font></b><br>
Returns the y location in pixels of the mouse on the screen. <a href="#about-initmouse">Init mouse</a> must be called before this command can be used.
</tt>
</p>

<a name="about-mousebutton"></a>
<p>
<tt>
<b><font color="yellow">mouse button (which)</font></b><br>
Returns true if the specified mouse button is pressed. You can use the constants <b><font color="yellow">leftbutton</font></b> and <b><font color="yellow">rightbutton</font></b> to specify the button. <a href="#about-initmouse">Init mouse</a> must be called before this command can be used.
</tt>
</p>

<a name="about-putmouse"></a>
<p>
<tt>
<b><font color="yellow">put mouse (X,Y)</font></b><br>
Changes the location of the mouse on the screen, in pixels. <a href="#about-initmouse">Init mouse</a> must be called before this command can be used.
</tt>
</p>

<a name="about-mouseregion"></a>
<p>
<tt>
<b><font color="yellow">mouse region (x min, x max, y min, y max)</font></b><br>
Sets the edges of the rectangle to which the mouse is constricted. Use if you want to force the mouse into some region, like a choice selection box. <a href="#about-initmouse">Init mouse</a> must be called before this command can be used.
</tt>
</p>

<hr>

<a name="functions"></a>
<font color="#f06060" size="4">Misc Functions</font><br>

<a name="about-random"></a>
<p>
<tt>
<b><font color="yellow">random(lownumber, highnumber)</font></b><br>Returns
a random number in the range of the two numbers. The returned value
will be greater than or equal to the first number, and less than or
equal to the second number
</tt>
</p>

<a name="about-inventory"></a>
<p>
<tt>
<b><font color="yellow">inventory (item)</font></b><br>Returns a count
of how many of the specified item are in your inventory. If you do not
have the item, it returns zero or false. You can refer to the item by
number, or you can use the constants defined in your HSI file, which
are in the form of <font color="yellow">item:name</font>
</tt>
</p>

<a name="about-leader"></a>
<p>
<tt>
<b><font color="yellow">leader</font></b><br>
Returns the hero number of the current leader.
</tt>
</p>

<a name="about-herox"></a>
<p>
<tt>
<b><font color="yellow">hero X (who)</font></b><br>
returns the specified hero's X position in tiles.
</tt>
</p>

<a name="about-heroy"></a>
<p>
<tt>
<b><font color="yellow">hero Y (who)</font></b><br>
returns the specified hero's Y position in tiles.
</tt>
</p>

<a name="about-npcx"></a>
<p>
<tt>
<b><font color="yellow">NPC X (who)</font></b><br>
returns the specified NPC's X position in tiles.
</tt>
</p>

<a name="about-npcy"></a>
<p>
<tt>
<b><font color="yellow">NPC Y (who)</font></b><br>
returns the specified NPC's Y position in tiles.
</tt>
</p>

<a name="about-herodirection"></a>
<p>
<tt>
<b><font color="yellow">hero direction (who)</font></b><br>
returns the specified hero's direction.
</tt>
</p>

<a name="about-npcdirection"></a>
<p>
<tt>
<b><font color="yellow">NPC direction (who)</font></b><br>
returns the specified NPC's direction.
</tt>
</p>

<a name="about-roominactiveparty"></a>
<p>
<tt>
<b><font color="yellow">room in active party</font></b><br>
A function that returns the number of available spaces in your active party. It will return zero or false if there is no room.
</tt>
</p>

<a name="about-currentmap"></a>
<p>
<tt>
<b><font color="yellow">current map</font></b><br>
returns the number of the current map.
</tt>
</p>

<a name="about-daysofplay"></a>
<p>
<tt>
<b><font color="yellow">days of play</font></b><br>
returns the number of days that the game has been played
</tt>
</p>

<a name="about-hoursofplay"></a>
<p>
<tt>
<b><font color="yellow">hours of play</font></b><br>
returns the number of hours that the game has been played, 0 to 23
</tt>
</p>

<a name="about-minutesofplay"></a>
<p>
<tt>
<b><font color="yellow">minutes of play</font></b><br>
returns the number of minutes that the game has been played, 0 to 59
</tt>
</p>

<a name="about-keyispressed"></a>
<p>
<tt>
<b><font color="yellow">key is pressed (scancode)</font></b><br>
Returns true if the keyboard key with the specified scancode is being
pressed, or false if it is not. The argument is a scancode, NOT the
upkey, downkey, etc used with <a href="#about-waitforkey">wait for key</a>. I have provided an extra <a href="#about-include">include</a> file, SCANCODE.HSI that you can use to define friendly names for all the scancodes.
<multicol cols="4"></multicol>
 00 <br>
 01 <b>ESC</b><br>
 02 <b>1</b><br>
 03 <b>2</b><br>
 04 <b>3</b><br>
 05 <b>4</b><br>
 06 <b>5</b><br>
 07 <b>6</b><br>
 08 <b>7</b><br>
 09 <b>8</b><br>
 10 <b>9</b><br>
 11 <b>0</b><br>
 12 <b>- _</b><br>
 13 <b>= +</b><br>
 14 <b>BACKSPACE</b><br>
 15 <b>TAB</b><br>
 16 <b>Q</b><br>
 17 <b>W</b><br>
 18 <b>E</b><br>
 19 <b>R</b><br>
 20 <b>T</b><br>
 21 <b>Y</b><br>
 22 <b>U</b><br>
 23 <b>I</b><br>
 24 <b>O</b><br>
 25 <b>P</b><br>
 26 <b>[ {</b><br>
 27 <b>] }</b><br>
 28 <b>ENTER</b><br>
 29 <b>CTRL</b><br>
 30 <b>A</b><br>
 31 <b>S</b><br>
 32 <b>D</b><br>
 33 <b>F</b><br>
 34 <b>G</b><br>
 35 <b>H</b><br>
 36 <b>J</b><br>
 37 <b>K</b><br>
 38 <b>L</b><br>
 39 <b>; :</b><br>
 40 <b>" '</b><br>
 41 <b>` ~</b><br>
 42 <b>LEFT SHIFT</b><br>
 43 <b>\ |</b><br>
 44 <b>Z</b><br>
 45 <b>X</b><br>
 46 <b>C</b><br>
 47 <b>V</b><br>
 48 <b>B</b><br>
 49 <b>N</b><br>
 50 <b>M</b><br>
 51 <b>, &lt;</b><br>
 52 <b>. &gt;</b><br>
 53 <b>/ ?</b><br>
 54 <b>RIGHT SHIFT</b><br>
 55 <b>PRINT SCREEN *</b><br>
 56 <b>ALT</b><br>
 57 <b>SPACE</b><br>
 58 <b>CAPSLOCK</b><br>
 59 <b>F1</b><br>
 60 <b>F2</b><br>
 61 <b>F3</b><br>
 62 <b>F4</b><br>
 63 <b>F5</b><br>
 64 <b>F6</b><br>
 65 <b>F7</b><br>
 66 <b>F8</b><br>
 67 <b>F9</b><br>
 68 <b>F10</b><br>
 69 <b>NUMLOCK</b><br>
 70 <b>SCROLL LOCK</b><br>
 71 <b>HOME 7</b><br>
 72 <b>UP 8</b><br>
 73 <b>PAGEUP 9</b><br>
 74 <b>KEYPAD -</b><br>
 75 <b>LEFT 4</b><br>
 76 <b>KEYPAD 5</b><br>
 77 <b>RIGHT 6</b><br>
 78 <b>KEYPAD +</b><br>
 79 <b>END 1</b><br>
 80 <b>DOWN 2</b><br>
 81 <b>PAGEDOWN 3</b><br>
 82 <b>INSERT 0</b><br>
 83 <b>DEL .</b><br>
 84 <br>
 85 <br>
 86 <br>
 87 <b>F11</b><br>
 88 <b>F12</b><br>
 89 <br>
 90 <br>
 91 <b>L WIN LOGO</b><br>
 92 <b>R WIN LOGO</b><br>
 93 <b>CONTEXT</b><br>

</tt>
</p>

<a name="about-heropixelx"></a>
<p>
<tt>
<b><font color="yellow">hero pixel X (who)</font></b><br>
Returns the hero's X position on the map in pixels. To find the hero's position in tiles, use the <a href="#about-herox">hero X</a> function instead.
</tt>
</p>

<a name="about-heropixely"></a>
<p>
<tt>
<b><font color="yellow">hero pixel Y (who)</font></b><br>
Returns the hero's Y position on the map in pixels. To find the hero's position in tiles, use the <a href="#about-heroy">hero Y</a> function instead.
</tt>
</p>

<a name="about-npcpixelx"></a>
<p>
<tt>
<b><font color="yellow">NPC pixel X (who)</font></b><br>
Returns the NPC's X position on the map in pixels. The argument is an <a href="#about-npcreference">NPC reference</a> or an NPC ID number. To find the NPC's position in tiles, use the <a href="#about-npcx">NPC X</a> function instead.
</tt>
</p>

<a name="about-npcpixely"></a>
<p>
<tt>
<b><font color="yellow">NPC pixel Y (who)</font></b><br>
Returns the NPC's Y position on the map in pixels. The argument is an <a href="#about-npcreference">NPC reference</a> or an NPC ID number. To find the NPC's position in tiles, use the <a href="#about-npcy">NPC Y</a> function instead.
</tt>
</p>

<a name="about-camerapixelx"></a>
<p>
<tt>
<b><font color="yellow">camera pixel X</font></b><br>
Returns the X position of the top left corner of the screen in pixels.
</tt>
</p>

<a name="about-camerapixely"></a>
<p>
<tt>
<b><font color="yellow">camera pixel Y</font></b><br>
Returns the Y position of the top left corner of the screen in pixels.
</tt>
</p>

<a name="about-pickhero"></a>
<p>
<tt>
<b><font color="yellow">pick hero</font></b><br>
Pops up a hero-picker box that lets you choose one of the heros in your
active party. The return value is the position in the party of the hero
you picked.
</tt>
</p>

<a name="about-renamehero"></a>
<p>
<tt>
<b><font color="yellow">rename hero(who)</font></b><br>
Pops up a name-editing box that allows you to change a hero's name. The argument is the hero's ID number, or name in the format <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-renameherobyslot"></a>
<p>
<tt>
<b><font color="yellow">rename hero by slot(who)</font></b><br>Pops up
a name-editing box that allows you to change a hero's name. The
argument is the hero's position in the party as returned by <a href="#about-findhero">find hero</a>
</tt>
</p>

<a name="about-lastsaveslot"></a>
<p>
<tt>
<b><font color="yellow">last save slot</font></b><br>Pops up
Returns the last save slot saved in, or false if the game has not been saved yet.
See also <a href="#about-saveinslot">save in slot</a> and <a href="#about-savemenu">save menu</a>.
</tt>
</p>

<hr>

<a name="maps"></a>
<font color="#f06060" size="4">Tweaking Maps</font><br>

<a name="about-readmapblock"></a>
<p>
<tt>
<b><font color="yellow">read map block (x,y)</font></b><br>
Returns the value of a map tile on the current map at the specified X,Y
position. Normal map tiles return values from 0-159, animating maptiles
from set 1 return 160-207 and animating maptiles from set 2 return
208-255.
</tt>
</p>

<a name="about-writemapblock"></a>
<p>
<tt>
<b><font color="yellow">write map block (x,y,value)</font></b><br>Writes
a new tile to the specified X,Y position on the current map. This
change will only persist until you leave the map or fight a battle.
</tt>
</p>

<a name="about-readpassblock"></a><a name="about-northwall"></a><a name="about-eastwall"></a><a name="about-southwall"></a><a name="about-westwall"></a><a name="about-vehiclea"></a><a name="about-vehicleb"></a><a name="about-harmtile"></a><a name="about-overheadtile"></a>
<p>
<tt>
<b><font color="yellow">read pass block (x,y)</font></b><br>Returns the
value of a passability (wallmap) tile on the current map at the
specified X,Y position. The return value will be from 0 to 255 and
consists of eight flag bits.<br>
</tt></p><pre><tt>  bit 1   = north wall
  bit 2   = east wall
  bit 4   = south wall
  bit 8   = west wall
  bit 16  = vehicle A
  bit 32  = vehicle B
  bit 64  = harm tile
  bit 128 = overhead tile
</tt></pre>
<tt>to check the value of a specific bit, use the <a href="#about-and">and</a> operator. For example:<br>
</tt><pre class="hss"><tt>  variable (pass)
  set variable(pass,read pass block(hero X(me),hero Y(me)))
  if (pass,and,harm tile) then begin
    # this checks if the hero is standing
    # on a harm tile
  end
</tt></pre>

<p></p>

<a name="about-writepassblock"></a><a name="about-northwall"></a><a name="about-eastwall"></a><a name="about-southwall"></a><a name="about-westwall"></a><a name="about-vehiclea"></a><a name="about-vehicleb"></a><a name="about-harmtile"></a><a name="about-overheadtile"></a>
<p>
<tt>
<b><font color="yellow">write pass block (x,y,value)</font></b><br>
Writes a new passability (wallmap) information to the specified X,Y
position on the current map. This change will only persist until you
leave the map or fight a battle. The value is a number from from 0 to
255 that consists of eight flag bits.<br>
<pre>  bit 1   = north wall
  bit 2   = east wall
  bit 4   = south wall
  bit 8   = west wall
  bit 16  = vehicle A
  bit 32  = vehicle B
  bit 64  = harm tile
  bit 128 = overhead tile
</pre>
You can <a href="#about-add">add</a> the constants together. For example:
<pre class="hss">  variable (pass)
  set variable(pass,northwall+southwall+eastwall+westwall)
  write pass block(15,3,pass)
  # this makes the fifteenth tile in the third column
  # impassable on all directions
</pre>
</tt>
</p>

<a name="about-loadtileset"></a>
<p>
<tt>
<b><font color="yellow">load tileset (set)</font></b><br>
Loads a different tileset for the currently displaying map. The
argument is the ID number of the tileset to load. To restore the map's
default tileset, use <font color="yellow">load tileset</font> with no arguments.
</tt>
</p>

<hr>

<a name="tags"></a>
<font color="#f06060" size="4">Working with Tags</font><br>

<a name="about-settag"></a>
<p>
<tt>
<b><font color="yellow">set tag (tag,value)</font></b><br>
Sets the value of a tag. The available constants are:
<font color="yellow">off</font>,
<font color="yellow">on</font>,
<font color="yellow">true</font>, or
<font color="yellow">false</font>.
You can specify the number of the tag, or you can use the constants in your HSI file. These constants are in the form of <font color="yellow">tag:name</font>.
</tt>
</p>

<a name="about-checktag"></a>
<p>
<tt>
<b><font color="yellow">check tag (tag)</font></b><br>
A function that checks the value of a tag, and returns true if the tag
is turned on, and false if the tag is turned off. It can be used in <font color="yellow">if</font> and <font color="yellow">while</font> statements
You can specify the number of the tag, or you can use the constants in your HSI file. These constants are in the form of <font color="yellow">tag:name</font>.
</tt>
</p>

<hr>

<a name="variable"></a>
<font color="#f06060" size="4">Working with Variables</font><br>

<a name="about-setvariable"></a>
<p>
<tt>
<b><font color="yellow">set variable (variable,value)</font></b><br>
This command assigns a new value to a variable. If you do not specify
the new value, the variable will be reset to zero. This command works
exactly the same for global and local variables.<br>
If you prefer, you can also set variables by writing <font color="yellow"><b>variable := value</b></font>
</tt>
</p>

<a name="about-increment"></a>
<p>
<tt>
<b><font color="yellow">increment (variable,amount)</font></b><br>
This command adds an amount to the current value of a variable. If you
do not specify the amount, then the variable will be incremented by
one. This command works exactly the same for global and local
variables.
<br>
You can also increment variables by writing <font color="yellow"><b>variable += amount</b></font>
</tt>
</p>

<a name="about-decrement"></a>
<p>
<tt>
<b><font color="yellow">decrement (variable,amount)</font></b><br>This
command subtracts an amount from the current value of a variable. If
you do not specify the amount, then the variable will be decremented by
one. This command works exactly the same for global and local
variables.<br>
You can also decrement variables by writing <font color="yellow"><b>variable -= amount</b></font>
</tt>
</p>

<hr>

<a name="operators"></a>
<font color="#f06060" size="4">Math, Comparison, and Logic Operators</font><br>

<p>
<tt>
Pre-December 1999 versions of HamsterSpeak used a different syntax for math. For more information, see the <a href="http://www.hamsterrepublic.com/ohrrpgce/hamsterspeak.html#operatortable">HamsterSpeak Specification</a>
</tt>
</p>

<a name="about-add"></a>
<p>
<tt>
<b><font color="yellow">number + number</font></b><br>
Adds two values together and returns the result. This can also be written as <font color="yellow">add(number,number)</font>
</tt>
</p>

<a name="about-subtract"></a>
<p>
<tt>
<b><font color="yellow">number -- number</font></b><br>Subtracts the
second number from the first number and returns the result. It is
neccisary to use the double minus so that HSPEAK.EXE can tell the
difference between subtraction, and a minus sign that indicates a
negative number. You can also write <font color="yellow">subtract(number,number)</font>
</tt>
</p>

<a name="about-multiply"></a>
<p>
<tt>
<b><font color="yellow">number * number</font></b><br>
Multiplies two values together and returns the result. This can also be written as <font color="yellow">multiply(number,number)</font>
</tt>
</p>

<a name="about-divide"></a>
<p>
<tt>
<b><font color="yellow">number / number</font></b><br>
Divides the second number into the first number and returns the result.
The result is rounded down to an integer. This can also be
written as <font color="yellow">divide(number,number)</font>
</tt>
</p>

<a name="about-mod"></a>
<p>
<tt>
<b><font color="yellow">number,mod,number</font></b><br>
Divides the second number into the first number and returns the remainder. 
This can also be written as <font color="yellow">modulus(number,number)</font>
</tt>
</p>

<a name="about-exponent"></a>
<p>
<tt>
<b><font color="yellow">number ^ power</font></b><br>
Raises a number to a power and returns the result. Normally you will
only be raising things to a power of 2. Raising to very large powers
will most certainly produce an overflow error. This can also be written
as <font color="yellow">exponent(number,power)</font>
</tt>
</p>

<a name="about-equal"></a>
<p>
<tt>
<b><font color="yellow">number == number</font></b><br>
Checks to see if the two numbers are equal. If they are equal it
returns true, otherwise it returns false. This can also be written as <font color="yellow">equal(number,number)</font>
</tt>
</p>

<a name="about-notequal"></a>
<p>
<tt>
<b><font color="yellow">number &lt;&gt; number</font></b><br>
Checks to see if the two numbers are not equal. If they are not equal
it returns true. If they are equal it returns false. This can also be
written as <font color="yellow">not equal(number,number)</font>
</tt>
</p>

<a name="about-lessthan"></a>
<p>
<tt>
<b><font color="yellow">number &lt;&lt; number</font></b><br>
Checks to see if the first number is less than the second number. If it
is, it returns true, otherwise it returns false. This can also be
written as <font color="yellow">less than(number,number)</font>
</tt>
</p>

<a name="about-greaterthan"></a>
<p>
<tt>
<b><font color="yellow">number &gt;&gt; number</font></b><br>
Checks to see if the first number is greater than the second number. If
it is, it returns true, otherwise it returns false. This can also be
written as <font color="yellow">greater than(number,number)</font>
</tt>
</p>

<a name="about-lessthanorequalto"></a>
<p>
<tt>
<b><font color="yellow">number &lt;= number</font></b><br>
Checks to see if the first number is less than or equal to the second
number. If it is, it returns true, otherwise it returns false. This can
also be written as <font color="yellow">less than or equal to(number,number)</font>
</tt>
</p>

<a name="about-greaterthanorequalto"></a>
<p>
<tt>
<b><font color="yellow">number &gt;= number</font></b><br>
Checks to see if the first number is greater than or equal to the
second number. If it is, it returns true, otherwise it returns false.
This can also be written as <font color="yellow">greater than or equal to(number,number)</font>
</tt>
</p>

<a name="about-and"></a>
<p>
<tt>
<b><font color="yellow">value,and,value</font></b><br>
Returns true if both of the values are true (non-zero). If either of them is false, <font color="yellow">and</font> returns false.
</tt>
</p>

<a name="about-or"></a>
<p>
<tt>
<b><font color="yellow">value,or,value</font></b><br>
Returns true if at least one of the values are true (non-zero). Only if both of them are false does <font color="yellow">or</font> return false.
</tt>
</p>

<a name="about-xor"></a>
<p>
<tt>
<b><font color="yellow">value,xor,value</font></b><br>
Returns true if one, but not both of the values are true (non-zero). If both of them are true, or both of them are false, <font color="yellow">xor</font> returns false.
</tt>
</p>

<hr>

<a name="flow"></a>
<font color="#f06060" size="4">Flow Control</font><br>

<a name="about-begin and end"></a><a name="about-begin"></a><a name="about-end"></a>
<p>
<tt>
<b><font color="yellow">begin<br>&nbsp;# other commands<br>end</font></b><br>
<font color="yellow">begin</font> is a synonym for <font color="yellow">(</font> and <font color="yellow">end</font> is a synonym for <font color="yellow">)</font>.
Parenthesis are normally used for bracketing things that all fit on the
same line, and begin/end statements are often used to enclose very long
things such as whole scripts or long flow control blocks that take up
several lines. For example, the following two blocks of code are
identical;<br>
</tt></p><pre class="hss"><tt> if (check tag(2)) then (show text box (5),wait for text box)
 
 if (check tag(2)) then
 begin
   show text box (5)
   wait for text box
 end
</tt></pre>

<p></p>

<a name="about-if"></a><a name="about-then"></a><a name="about-else"></a>
<p>
<tt>
<b><font color="yellow">if(condition) then(commands) else(commands)</font></b><br>
The <font color="yellow">if</font> statement checks the value of its condition, and if the value is true, it runs the commands in the <font color="yellow">then</font> block. If the value is false, it runs the commands in its <font color="yellow">else</font> block. The conditional is usually an equality operator such as <font color="yellow"><tt>==</tt></font> or <font color="yellow"><tt>&lt;&gt;</tt></font>, or it is a <a href="#about-checktag">check tag</a> command. The <font color="yellow">else</font> is optional as long as you have a <font color="yellow">then</font>, and the <font color="yellow">then</font> is optional as long as you have an <font color="yellow">else</font>. There are some examples of <font color="yellow">if</font> statements in the <a href="http://www.hamsterrepublic.com/ohrrpgce/hamsterspeak.html#sample-comparison">HamsterSpeak Specification</a>, and in WANDERP.HSS
</tt>
</p>

<a name="about-while"></a><a name="about-do"></a>
<p>
<tt>
<b><font color="yellow">while(condition) do(commands)</font></b><br>
The <font color="yellow">while</font> command checks the value of its condition, and if the value is true it runs the commands in the <font color="yellow">do</font> block. It keeps checking the conditional and runs the <font color="yellow">do</font> block over and over again until the conditional returns false. The conditional is usually an equality operator such as <font color="yellow"><tt>==</tt></font> or <font color="yellow"><tt>&lt;&gt;</tt></font>, or it is a <a href="#about-checktag">check tag</a> command.
</tt>
</p>

<a name="about-for"></a><a name="about-do"></a>
<p>
<tt>
<b><font color="yellow">for(counter,start,finish,step) do(commands)</font></b><br>
The <font color="yellow">for</font> command runs the commands in the <font color="yellow">do</font> block a specified number of times. The first argument to <font color="yellow">for</font> is the counter. It <u>must</u>
be a variable. The next two arguments are the starting value and the
finishing value. For example, if you use a start value of 1 and a
finish value of 10 then the <font color="yellow">do</font> block will run 10 times. The first time the <font color="yellow">do</font>
block runs, the counter will be 1, then it will be 2, then 3 and so on
until it reaches 10, the finish value. The fourth argument of <font color="yellow">for</font>
is optional. It is the step by which the counter will change each loop.
If you use a step of 2 then the counter will count 1,3,5,7,9. If you
switch the start and finish values and use a step of -1 then the
counter will go backwards. If you use 0 as the step, the counter will
never change, so the <font color="yellow">do</font> block will repeat forever. There are examples of <font color="yellow">for</font> commands in WANDERP.HSS
</tt>
</p>

<a name="about-return"></a>
<p>
<tt>
<b><font color="yellow">return(value)</font></b><br>
Sets the value to be returned by the script. This is only useful when
the script has been called as a function from another script. It is
irrelevant to scripts called directly from your RPG. This command does
NOT cause the script to terminate, it just sets the return value. If
return() is used more than once in the same script, only the last one
executed matters
</tt>
</p>

<hr>

<a name="advanced"></a>
<font color="#f06060" size="4">Advanced Commands</font><br>

<a name="about-setheropicture"></a>
<p>
<tt>
<b><font color="yellow">set hero picture (who,picture,type)</font></b><br>
Permanently changes a hero's picture. The first argument is the heros position in the party as returned by <a href="#about-findhero">find hero</a>. The second argument is the index number of the picture to use, and the last argument is a constant <b>inside battle</b> or <b>outside battle</b>, which determines if you are changing the heros battle picture or their walkabout picture. If the last argument is left out, <b>outside battle</b> is assumed.
</tt>
</p>

<a name="about-setheropalette"></a>
<p>
<tt>
<b><font color="yellow">set hero palette (who,palette,type)</font></b><br>
Permanently changes a hero's 16-color palette. The first argument is the heros position in the party as returned by <a href="#about-findhero">find hero</a>. The second argument is the index number of the 16-color palette to use, and the last argument is a constant <b>inside battle</b> or <b>outside battle</b>, which determines if you are changing the heros battle palette or their walkabout palette. If the last argument is left out, <b>outside battle</b> is assumed.
</tt>
</p>

<a name="about-getheropicture"></a>
<p>
<tt>
<b><font color="yellow">get hero picture (who,type)</font></b><br>A
function that returns the index number of a hero's picture. The first
argument is the heros position in the party as returned by <a href="#about-findhero">find hero</a>. The second argument is a constant <b>inside battle</b> or <b>outside battle</b>, which determines if you are checking the heros battle picture or their walkabout picture. If the second argument is left out, <b>outside battle</b> is assumed.
</tt>
</p>

<a name="about-getheropalette"></a>
<p>
<tt>
<b><font color="yellow">get hero palette (who,type)</font></b><br>
A function that returns the index number of a hero's 16-color palette.
The first argument is the heros position in the party as returned by <a href="#about-findhero">find hero</a>. The second argument is a constant <b>inside battle</b> or <b>outside battle</b>, which determines if you are checking the heros battle palette or their walkabout palette. If the second argument is left out, <b>outside battle</b> is assumed.
</tt>
</p>

<a name="about-alternpc"></a>
<p>
<tt>
<b><font color="yellow">alter NPC (who,NPCstat,value)</font></b><br>
Changes the stats of an NPC. Constants for this command have been included in <a href="#about-plotscr.hsd">PLOTSCR.HSD</a>. Alter NPC can be used for many purposes.<br>
<br>
</tt></p><ul>
<tt> <b>Here are the different stats that can be changed</b>
 <li>Alter NPC (<i>who</i>,NPCstat:picture,<i>picture number</i>)
 </li><li>Alter NPC (<i>who</i>,NPCstat:palette,<i>palette number</i>)
 </li><li>Alter NPC (<i>who</i>,NPCstat:move type,<i>move type code</i>)
    <ul><b>available move types</b>
      <li>NPCmovetype:standstill
      </li><li>NPCmovetype:wander
      </li><li>NPCmovetype:pace
      </li><li>NPCmovetype:rightturns
      </li><li>NPCmovetype:leftturns
      </li><li>NPCmovetype:randomturns
      </li><li>NPCmovetype:chaseyou
      </li><li>NPCmovetype:avoidyou
    </li></ul>
 </li><li>Alter NPC (<i>who</i>,NPCstat:move speed,<i>speed</i>)
 </li><li>Alter NPC (<i>who</i>,NPCstat:display text,<i>text box number</i>)
 </li><li>Alter NPC (<i>who</i>,NPCstat:when activated,<i>when activated code</i>)
    <ul><b>available when activated codes</b>
      <li>NPCwhenactivated:changedirection
      </li><li>NPCwhenactivated:faceplayer
      </li><li>NPCwhenactivated:donotfaceplayer
    </li></ul>
 </li><li>Alter NPC (<i>who</i>,NPCstat:give item,<i>item number</i>)
 </li><li>Alter NPC (<i>who</i>,NPCstat:pushability,<i>pushability code</i>)
    <ul><b>available pushability codes</b>
      <li>NPCpush:off
      </li><li>NPCpush:full
      </li><li>NPCpush:horizontal
      </li><li>NPCpush:vertical
      </li><li>NPCpush:uponly
      </li><li>NPCpush:rightonly
      </li><li>NPCpush:downonly
      </li><li>NPCpush:leftonly
    </li></ul>
 </li><li>Alter NPC (<i>who</i>,NPCstat:activation,<i>activation code</i>)
    <ul><b>available activation codes</b>
      <li>NPCactivation:use
      </li><li>NPCactivation:touch
      </li><li>NPCactivation:stepon
    </li></ul>
 </li><li>Alter NPC (<i>who</i>,NPCstat:script,<i>script ID</i>)
 </li><li>Alter NPC (<i>who</i>,NPCstat:script argument,<i>number</i>)
 </li><li>Alter NPC (<i>who</i>,NPCstat:vehicle,<i>vehicle ID</i>)
</li></tt></ul>
<tt><br>
A good way to make use of Alter NPC is to wrap it in your own script. For example:
</tt><pre class="hss"><tt># Example AlterNPC wrapper for changing NPC appearance
Define Script (autonumber,change NPC,3,0,0,0)

script,change NPC,who,picture,palette,begin
  Alter NPC(who,NPCstat:picture,picture)
  Alter NPC(who,NPCstat:palette,palette)
end
</tt></pre>

<tt><br>
Normally you would only give an NPC ID number to <b>alter NPC</b>, but if you want to use an <a href="#about-npcreference">NPC reference</a> it will still work. Just remember that <b>alter NPC</b> changes every copy of the NPC on the map, not just the specific one you referenced.

</tt>
<p></p>

<a name="about-setdeathscript"></a>
<p>
<tt>
<b><font color="yellow">set death script (id)</font></b><br>
Changes the script that is run when you die in battle. The argument is the script's ID number, <b>NOT</b> the script's name. Calling <font color="yellow">set death script</font> with no argument disables the death script.
</tt>
</p>

<a name="about-getdeathscript"></a>
<p>
<tt>
<b><font color="yellow">get death script</font></b><br>
Returns the ID number of script that is run when you die in battle.
</tt>
</p>

<a name="about-setloadscript"></a>
<p>
<tt>
<b><font color="yellow">set load script (id)</font></b><br>
Changes the script that is run when you load a saved game. The argument is the script's ID number, <b>NOT</b> the script's name. Calling <font color="yellow">set load script</font> with no argument disables the load script.
</tt>
</p>

<a name="about-getloadscript"></a>
<p>
<tt>
<b><font color="yellow">get load script</font></b><br>
Returns the ID number of script that is run when you load a saved game.
</tt>
</p>

<a name="about-findhero"></a>
<p>
<tt>
<b><font color="yellow">find hero (who)</font></b><br>
Searches through your party to see if the specified hero is there, and
returns the position where the hero was found, or -1 if the hero was
not found. Use the names defined in your HSI file in the format <font color="yellow">hero:name</font>.
Not only does this tell you if a hero is in your party, but you can
also use it to tell whether or not the hero is in your active party. <font color="yellow">find hero</font>
will return 0,1,2 or 3 if the hero is in the active party, but it will
return a number 4 or higher if the hero is in the reserve. See also <a href="#about-rankincaterpillar">rank in caterpillar</a>
</tt>
</p>

<a name="about-herobyslot"></a>
<p>
<tt>
<b><font color="yellow">hero by slot (where)</font></b><br>
This command is the reverse of <a href="#about-findhero">find hero</a>.
Given a position in your party, it will tell you which hero is in that
slot, or -1 if no hero is in that slot. The number returned can be
compared with the names defined in your HSI file in the format <font color="yellow">hero:name</font>.
</tt>
</p>

<a name="about-rankincaterpillar"></a>
<p>
<tt>
<b><font color="yellow">rank in caterpillar (who)</font></b><br>
Searches through your active party to see if the specified hero is
there, and returns the position int the walkabout caterpillar where the
hero was found, or -1 if the hero was not found. Use the names defined
in your HSI file in the format <font color="yellow">hero:name</font>. This is particularaly useful if you need to use a command like <a href="#about-walkhero">walk hero</a> but you are not sure which position the hero is in. See also <a href="#about-findhero">find hero</a>
</tt>
</p>

<a name="about-herobyrank"></a>
<p>
<tt>
<b><font color="yellow">hero by rank (where)</font></b><br>
This command is the reverse of <a href="#about-rankincaterpillar">rank in caterpillar</a>.
Given a position in your walkabout party, it will tell you which hero
is in that position, or -1 if no hero is in that position. The number
returned can be compared with the names defined in your HSI file in the
format <font color="yellow">hero:name</font>.
</tt>
</p>

<a name="about-getherostat"></a>
<p>
<tt>
<b><font color="yellow">get hero stat (who,stat,type)</font></b><br>
A function that returns one of a hero's stats. The first argument is
the position of the hero you want to check in your party as as returned
by <a href="#about-findhero">find hero</a>.
The second argument is the name of the stat that you want to check. The
names of the stats are also define in your HSI file in the form <font color="yellow">stat:name</font>. The third argument is either <a href="#about-currentstat">current stat</a> or <a href="#about-maximumstat">maximum stat</a>. If you leave the last argument blank, current stat will be assumed.
</tt>
</p>

<a name="about-setherostat"></a>
<p>
<tt>
<b><font color="yellow">set hero stat (who,stat,value,type)</font></b><br>
A command that changes one of a hero's stats. The first argument is the
position of the hero you want to change in your party as returned by <a href="#about-findhero">find hero</a>.
The second argument is the name of the stat that you want to change.
The names of the stats are also define in your HSI file in the form <font color="yellow">stat:name</font>. The third argument is the new value of the stat. The last argument is either <a href="#about-currentstat">current stat</a> or <a href="#about-maximumstat">maximum stat</a>. If you leave the last argument blank, current stat will be assumed.
</tt>
</p>

<a name="about-getherolevel"></a>
<p>
<tt>
<b><font color="yellow">get hero level (who)</font></b><br>
A function that returns a hero's current level. The argument is the
position of the hero you want to check in your party as as returned by <a href="#about-findhero">find hero</a>. The return value with be your current level, from 0 to 99
</tt>
</p>

<a name="about-readglobal"></a>
<p>
<tt>
<b><font color="yellow">read global (id)</font></b><br>
A function that returns the value of a global variable using its ID
number instead of its name. Why would you want to do a silly thing like
that? Because it allows you to simulate simple fake arrays, in the old
C-pointer style. See also <a href="#about-writeglobal">write global</a>
</tt>
</p>

<a name="about-writeglobal"></a>
<p>
<tt>
<b><font color="yellow">write global (id,value)</font></b><br>
A function that writes a value into a global variable using its ID
number instead of its name. Why would you want to do a silly thing like
that? Because it allows you to simulate simple fake arrays, in the old
C-pointer style. See also <a href="#about-readglobal">read global</a>
</tt>
</p>

<a name="about-setbattlewaitmode"></a>
<p>
<tt>
<b><font color="yellow">set battle wait mode (state)</font></b><br>
Set whether or not battles pause on spell and item menus. If the
argument is OFF then enemies continue to attack while menus are up, if
the argument is ON then enemies wait while menus are up.
</tt>
</p>

<a name="about-setcaterpillarmode"></a>
<p>
<tt>
<b><font color="yellow">set caterpillar mode (state)</font></b><br>Sets
whether or not to display the whole party in "caterpillar" style. If
the argument is OFF then only the leader will be displayed. If the
argument is ON then the whole party will be displayed. (do not confuse
this with the <a href="#about-suspendcaterpillar">suspend caterpillar</a> and <a href="#about-resumecaterpillar">resume caterpillar</a> commands, which only apply when caterpillar mode is ON)
</tt>
</p>

<a name="about-setnoHPleveluprestore"></a>
<p>
<tt>
<b><font color="yellow">set no HP level up restore (state)</font></b><br>
Sets whether or not a hero regains full HP after a levelup. If the
argument is OFF then HP is restored on a levelup. If the argument is ON
then the hero's HP is not restored on a levelup.
</tt>
</p>

<a name="about-setnoMPleveluprestore"></a>
<p>
<tt>
<b><font color="yellow">set no MP level up restore (state)</font></b><br>Sets
whether or not a hero regains full MP after a levelup. If the argument
is OFF then MP is restored on a levelup. If the argument is ON then the
hero's MP is not restored on a levelup.
</tt>
</p>

<a name="about-setinnnorevivemode"></a>
<p>
<tt>
<b><font color="yellow">set inn no revive mode (state)</font></b><br>Sets
whether or not inns restore dead heros to life. If the argument is OFF
then dead heros are restored by inns. If the argument is ON then dead
heros remain dead in inns.
</tt>
</p>

<a name="about-setfullheroswapmode"></a>
<p>
<tt>
<b><font color="yellow">set full hero swap mode (state)</font></b><br>Sets
whether or not you can swap heros in and out of your active party from
the menu. If the argument is OFF then the "Order" menu will be
available. If the argument is ON then the "Team" menu will be
available.
</tt>
</p>

<a name="about-hidebattlereadymeter"></a>
<p>
<tt>
<b><font color="yellow">hide battle ready meter (state)</font></b><br>Sets
whether or not the ready meter appears in battle. If the argument is
OFF then the ready meter appears. If the argument is ON then the ready
meter will be hidden.
</tt>
</p>

<a name="about-hidebattlehealthmeter"></a>
<p>
<tt>
<b><font color="yellow">hide battle health meter (state)</font></b><br>Sets
whether or not the health meter appears in battle. If the argument is
OFF then the health meter appears. If the argument is ON then the
health meter will be hidden.
</tt>
</p>

<a name="about-setdebugkeys"></a>
<p>
<tt>
<b><font color="yellow">set debug keys disable (state)</font></b><br>Sets
whether or not the debugging keys are allowed. If the argument is OFF
then debugging keys are allowed. If the argument is ON then debugging
keys are disabled.
</tt>
</p>

<a name="about-autosave"></a>
<p>
<tt>
<b><font color="yellow">autosave</font></b><br>
Transparently saves the game to the last save slot used, or if the 
game has not been saved yet, calls <a href="#about-savemenu">save menu</a>.<br>
See also <a href="#about-lastsaveslot">last save slot</a>
</tt>
</p>

<a name="about-saveinslot"></a>
<p>
<tt>
<b><font color="yellow">save in slot (slot)</font></b><br>
Saves in the specified save slot (1 to 4). To display the save game menu instead, see <a href="#about-savemenu">save menu</a>.
</tt>
</p>

<hr>

<a name="predefined"></a>
<font color="#f06060" size="4">Predefined Constants</font><br>

<a name="about-numeric constants"></a><a name="about-zero"></a><a name="about-one"></a><a name="about-two"></a><a name="about-three"></a><a name="about-four"></a><a name="about-five"></a><a name="about-six"></a><a name="about-seven"></a><a name="about-eight"></a><a name="about-nine"></a><a name="about-ten"></a>
<p>
<tt>
<b><font color="yellow"><u>numeric constants</u><br>zero, one, two, three, four, five, six, seven, eight, nine, ten</font></b><br>
<a href="#about-plotscr.hsd">PLOTSCR.HSD</a> defines constants for the numbers from 0 to 10. you can use these constants to make your scripts look friendly :)
</tt>
</p>

<a name="about-boolean constants"></a><a name="about-true"></a><a name="about-false"></a><a name="about-on"></a><a name="about-off"></a>
<p>
<tt>
<b><font color="yellow"><u>boolean constants</u><br>true, false, ON, OFF</font></b><br>
<a href="#about-plotscr.hsd">PLOTSCR.HSD</a> defines constants for true and false, and for ON and OFF. These are useful for checking and setting the values of tags.
</tt>
</p>

<a name="about-direction constants"></a><a name="about-north"></a><a name="about-south"></a><a name="about-east"></a><a name="about-west"></a><a name="about-up"></a><a name="about-down"></a><a name="about-right"></a><a name="about-left"></a>
<p>
<tt>
<b><font color="yellow"><u>direction constants</u><br>north, south, east, west<br>up, down, right, left</font></b><br>
<a href="#about-plotscr.hsd">PLOTSCR.HSD</a> defines constants each of the four directions. These constants are useful for commands such as <a href="#about-walkhero">walk hero</a> and <a href="#about-walknpc">walk NPC</a>, which take a direction as an argument.
</tt>
</p>

<a name="about-keyboard constants"></a><a name="about-upkey"></a><a name="about-downkey"></a><a name="about-leftkey"></a><a name="about-rightkey"></a><a name="about-usekey"></a><a name="about-cancelkey"></a><a name="about-menukey"></a><a name="about-anykey"></a>
<p>
<tt>
<b><font color="yellow"><u>keyboard constants</u><br>upkey, downkey, leftkey, rightkey<br>usekey, cancelkey, menukey, anykey</font></b><br>
<a href="#about-plotscr.hsd">PLOTSCR.HSD</a> defines constants that
correspond to each of the usable keys (or joystick buttons) that the
player can press while playing. These are useful with the <a href="#about-waitforkey">wait for key</a> command
</tt>
</p>

<a name="about-me"></a>
<p>
<tt>
<b><font color="yellow">me</font></b><br>
<b>me</b> is a constant that can be used to refer to the first hero in
your party (hero zero) in any command that takes a hero number as an
argument.
</tt>
</p>

<a name="about-none"></a>
<p>
<tt>
<b><font color="yellow">none</font></b><br>
<b>none</b> is a constant that means the same as zero. It is normally used in <a href="#about-definescript">define script</a> commands for scripts that do not have any arguments
</tt>
</p>

<a name="about-autonumber"></a>
<p>
<tt>
<b><font color="yellow">autonumber</font></b><br>
<b>autonumber</b> is a constant that is used as the ID number in <a href="#about-definescript">define script</a>
commands for scripts that do not need to be called directly from toe
OHRRPGCE. Autonumber scripts are only called from within other scripts.
</tt>
</p>

<a name="about-currentstat"></a>
<p>
<tt>
<b><font color="yellow">current stat</font></b><br>
a constant for use with the <a href="#about-getherostat">get hero stat</a> and <a href="#about-setherostat">set hero stat</a> commands.
</tt>
</p>

<a name="about-maximumstat"></a>
<p>
<tt>
<b><font color="yellow">maximum stat</font></b><br>
a constant for use with the <a href="#about-getherostat">get hero stat</a> and <a href="#about-setherostat">set hero stat</a> commands.
</tt>
</p>

<hr>
</body></html>