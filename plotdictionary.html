<html>
<head>
<title>Dictionary of Plotscripting Commands</title>
</head>
<body bgcolor="000000" text="f0f0f0" link="00ff00" vlink="009090" alink="d0d000">

<font size="6">PlotScripting</font>
<font size="3">Dictionary of Commands</font><br>

<p>
This is a listing of all the plotscripting commands implemented as of February 1 2000. More commands will be added in the future.
</p>
<p>
In addition to reading this document, I also reccomend you check out <a href="plotscripttutor.html">Plotscripting Tutorial</a> and the <a href="hamsterspeak.html">HamsterSpeak Specification</a>
</p>
<font size="4">
<a href="#wait">Wait Commands</a><br>
<a href="#suspend">Suspend and Resume</a><br>
<a href="#movement">Moving Things</a><br>
<a href="#showing">Showing Stuff and Doing Things</a><br>
<a href="#addrem">Adding and Removing</a><br>
<a href="#effects">Effects</a><br>
<a href="#functions">Functions</a><br>
<a href="#tags">Working with Tags</a><br>
<a href="#variable">Working with Variables</a><br>
<a href="#operators">Math, Comparison, and Logic Operators</a><br>
<a href="#flow">Flow Control</a><br>
<a href="#advanced">Advanced Commands</a><br>
</font>

<hr>

<a name="wait"></a>
<font size="4" color="f06060">Wait Commands</font><br>

<a name="about-wait"></a>
<p>
<tt>
<b><font color="yellow">wait (ticks)</font></b><br>
Makes the script wait for the specified number of ticks. I havent timed how many ticks there are in a second, but I would guess roughly 15. If you leave out the argument, it will wait for one tick.
</tt>
</p>

<a name="about-waitfortextbox"></a>
<p>
<tt>
<b><font color="yellow">wait for text box</font></b><br>
makes the script wait until there is no text box displaying on the screen. Useful to know when to move on after using a <a href="#about-showtextbox">show text box</a> command
</tt>
</p>

<a name="about-waitforhero"></a>
<p>
<tt>
<b><font color="yellow">wait for hero (who)</font></b><br>
Waits for the specified hero stop walking. Use the constant <font color="yellow">me</font> to refer to the leader, or use numbers 0,1,2,3 to refer to a specific hero. If you leave out the argument, the first hero will be assumed.
</tt>
</p>

<a name="about-waitforkey"></a>
<p>
<tt>
<b><font color="yellow">wait for key (key)</font></b><br>
Waits for the player to press a key. You can use the follwing constants:
<font color="yellow">any key</font>,
<font color="yellow">up key</font>,
<font color="yellow">down key</font>,
<font color="yellow">left key</font>,
<font color="yellow">right key</font>,
<font color="yellow">use key</font>,
<font color="yellow">cancel key</font>, or
<font color="yellow">menu key</font>.
If you do not specify, then any key will be used.
</tt>
</p>

<a name="about-waitfornpc"></a>
<p>
<tt>
<b><font color="yellow">wait for NPC (who)</font></b><br>
Waits for the specified NPC to stop walking. The argument is the number of the NPC, 0 to 35. If more than one copy of the NPC exists on the map, it only checks the first one.
</tt>
</p>

<a name="about-waitforcamera"></a>
<p>
<tt>
<b><font color="yellow">wait for camera</font></b><br>
Waits for the camera to stop moving after a <a href="#about-pancamera">pan camera</a> or <a href="#about-focuscamera">focus camera</a> command.
</tt>
</p>

<a name="about-waitforall"></a>
<p>
<tt>
<b><font color="yellow">wait for all</font></b><br>
Waits for any camera motion to stop, waits for all heros to stop walking, and if <a href="#about-suspendnpcs">suspend NPCs</a> is active, waits for all NPCs to stop walking.
</tt>
</p>

<hr>

<a name="suspend"></a>
<font size="4" color="f06060">Suspend and Resume</font><br>

<a name="about-suspendplayer"></a>
<p>
<tt>
<b><font color="yellow">suspend player</font></b><br>
Blocks the player from controlling the game, so the plotscript can have exclusive control. The one exception to this is text boxes. The player can advance text boxes no matter what.
</tt>
</p>

<a name="about-resumeplayer"></a>
<p>
<tt>
<b><font color="yellow">resume player</font></b><br>
Restores normal control after a <a href="#about-suspendplayer">suspend player</a> command. This is very important. If you use suspend player, but forget resume player, the game will be stuck after the script ends.
</tt>
</p>

<a name="about-suspendnpcs"></a>
<p>
<tt>
<b><font color="yellow">suspend NPCs</font></b><br>
Stops NPCs from walking around automatically. When Suspend NPCs is run, all NPCs stop in their tracks, ready for you to control them with the <a href="#about-walknpc">walk NPC</a> command
</tt>
</p>

<a name="about-resumenpcs"></a>
<p>
<tt>
<b><font color="yellow">resume NPCs</font></b><br>
Restores automatic NPC movement after a <a href="#about-suspendnpcs">suspend NPCs</a> command
</tt>
</p>

<a name="about-suspendobstruction"></a>
<p>
<tt>
<b><font color="yellow">suspend obstruction</font></b><br>
Allows heros to walk through NPCs, allows NPCs to walk through heors, and allows NPCs to walk through each other.
</tt>
</p>

<a name="about-resumeobstruction"></a>
<p>
<tt>
<b><font color="yellow">resume obstruction</font></b><br>
Restores normal obstruction after a <a href="#about-suspendobstruction">suspend obstruction</a> command
</tt>
</p>

<a name="about-suspendcatapillar"></a>
<p>
<tt>
<b><font color="yellow">suspend catapillar</font></b><br>
Stops your other heros from following the leader. This is useful when you want to control them individually with <a href="#about-walkhero">walk hero</a> commands. Also, It has come to my attention that the correct spelling should be "caterpillar" but because so many people have already used it in scripts, I will not change it.
</tt>
</p>

<a name="about-resumecatapillar"></a>
<p>
<tt>
<b><font color="yellow">resume catapillar</font></b><br>
Reverses the <a href="#about-suspendcatapillar">suspend catapillar</a> command, and makes your other heors follow the leader as normal.
</tt>
</p>

<a name="about-suspendrandomenemys"></a>
<p>
<tt>
<b><font color="yellow">suspend random enemys</font></b><br>
Prevents enemies from attacking your party while walking over tiles that can normally spawn random battles. This is useful to prevent battles from interrupting a plotscript.
</tt>
</p>

<a name="about-resumerandomenemys"></a>
<p>
<tt>
<b><font color="yellow">resume random enemys</font></b><br>
Undoes the <a href="#about-suspendrandomenemys">suspend random enemys</a> and allows random battles to occur as normal.
</tt>
</p>

<a name="about-suspendboxadvance"></a>
<p>
<tt>
<b><font color="yellow">suspend box advance</font></b><br>
Prevents the player from advancing or clearing text boxes by pressing keys. While this is active, the only way to make a text box advance is with the <a href="#about-advancetextbox">advance text box</a> command. Be very careful with this command, since you do not want to leave the player stuck on a text box forever
</tt>
</p>

<a name="about-resumeboxadvance"></a>
<p>
<tt>
<b><font color="yellow">resume box advance</font></b><br>
Undoes the <a href="#about-suspendboxadvance">suspend random enemys</a> and allows the player to advance and clear text boxes by pressing keys as normal.
</tt>
</p>

<a name="about-suspendoverlay"></a>
<p>
<tt>
<b><font color="yellow">suspend overlay</font></b><br>
Prevents overhead tiles from being drawn over heros and NPCs
</tt>
</p>

<a name="about-resumeoverlay"></a>
<p>
<tt>
<b><font color="yellow">resume overlay</font></b><br>
Causes overhead tiles to be drawn over heros and NPCs as normal
</tt>
</p>

<hr>

<a name="movement"></a>
<font size="4" color="f06060">Moving Things</font><br>

<a name="about-walkhero"></a>
<p>
<tt>
<b><font color="yellow">walk hero (who,direction,distance)</font></b><br>
Makes the specified hero move in the specified direction for the specified number of tiles. The first argument tells who to move. Use <font color="yellow">me</font> or numbers 0-3. The second argument is the direction. Use the constants:
<font color="yellow">north</font>,
<font color="yellow">south</font>,
<font color="yellow">east</font>,
<font color="yellow">west</font>,
<font color="yellow">up</font>,
<font color="yellow">down</font>,
<font color="yellow">left</font>, or
<font color="yellow">right</font>.
The third argument is the number of tiles to move. If you leave out the third argument, the hero will move one tile.
<font color="yellow">walk hero</font> is usually used with the <a href="#about-waitforhero">wait for hero</a> command.
You should normally use the <a href="#about-suspendplayer">suspend player</a> command before moving heros, and if you want to move heros other than the leader, you should use the <a href="#about-suspendcatapillar">suspend catapillar</a> command.
</tt>
</p>

<a name="about-walknpc"></a>
<p>
<tt>
<b><font color="yellow">walk NPC (who,direction,distance)</font></b><br>
Makes the specified NPC move in the specified direction for the specified number of tiles. The first argument tells who to move. Use numbers 0-35. If more than one copy of the NPC exists on the map, only the first one will be moved. The second argument is the direction. Use the constants:
<font color="yellow">north</font>,
<font color="yellow">south</font>,
<font color="yellow">east</font>,
<font color="yellow">west</font>,
<font color="yellow">up</font>,
<font color="yellow">down</font>,
<font color="yellow">left</font>, or
<font color="yellow">right</font>.
The third argument is the number of tiles to move. If you leave out the third argument, the NPC will move one tile. 
<font color="yellow">walk NPC</font> is usually used with the <a href="#about-waitfornpc">wait for NPC</a> command.
You should normally use the <a href="#about-suspendnpcs">suspend NPCs</a> command before moving NPCs.
</tt>
</p>

<a name="about-setherodirection"></a>
<p>
<tt>
<b><font color="yellow">set hero direction (who,direction)</font></b><br>
Makes the specified hero face in the specified direction. The following constants are avaialable for direction:
<font color="yellow">north</font>,
<font color="yellow">south</font>,
<font color="yellow">east</font>,
<font color="yellow">west</font>,
<font color="yellow">up</font>,
<font color="yellow">down</font>,
<font color="yellow">left</font>, or
<font color="yellow">right</font>.
</tt>
</p>

<a name="about-setnpcdirection"></a>
<p>
<tt>
<b><font color="yellow">set NPC direction (who,direction)</font></b><br>
Makes the specified NPC face in the specified direction. The following constants are avaialable for direction:
<font color="yellow">north</font>,
<font color="yellow">south</font>,
<font color="yellow">east</font>,
<font color="yellow">west</font>,
<font color="yellow">up</font>,
<font color="yellow">down</font>,
<font color="yellow">left</font>, or
<font color="yellow">right</font>.
If more than one copy of the same NPC exists on the map, only the first one will turn.
</tt>
</p>

<a name="about-setheroframe"></a>
<p>
<tt>
<b><font color="yellow">set hero frame (who,frame)</font></b><br>
Sets the walking frame of the specified hero to 0 or 1.
</tt>
</p>

<a name="about-setNPCframe"></a>
<p>
<tt>
<b><font color="yellow">set NPC frame (who,frame)</font></b><br>
Sets the walking frame of the specified NPC to 0 or 1.
If more than one copy of the same NPC exists on the map, only the first one's frame will be changed.
</tt>
</p>

<a name="about-setheroposition"></a>
<p>
<tt>
<b><font color="yellow">set hero position (who,X,Y)</font></b><br>
Instantly moves the specified hero to an X,Y position on the map. The coordinates are in units of tiles.
</tt>
</p>

<a name="about-setnpcposition"></a>
<p>
<tt>
<b><font color="yellow">set NPC position (who,X,Y)</font></b><br>
Instantly moves the specified NPC to an X,Y position on the map. The coordinates are in units of tiles. If more than one copy of the same NPC exists on the map, only the first one will be moved.
</tt>
</p>

<a name="about-walkherotox"></a>
<p>
<tt>
<b><font color="yellow">walk hero to X (who,X)</font></b><br>
Makes the specified hero walk to a given X coordinate on the map
</tt>
</p>

<a name="about-walkherotoy"></a>
<p>
<tt>
<b><font color="yellow">walk hero to Y (who,Y)</font></b><br>
Makes the specified hero walk to a given Y coordinate on the map
</tt>
</p>

<a name="about-walknpctox"></a>
<p>
<tt>
<b><font color="yellow">walk NPC to X (who,X)</font></b><br>
akes the specified NPC walk to a given X coordinate on the map. If more than one copy of the same NPC exists on the map, only the first one will be moved.
</tt>
</p>

<a name="about-walknpctoy"></a>
<p>
<tt>
<b><font color="yellow">walk NPC to Y (who,Y)</font></b><br>
Makes the specified NPC walk to a given Y coordinate on the map. If more than one copy of the same NPC exists on the map, only the first one will be moved.
</tt>
</p>

<a name="about-setherospeed"></a>
<p>
<tt>
<b><font color="yellow">set hero speed (who,speed)</font></b><br>
Changes the walking speed of the specified hero. If you do not specify a speed, the hero's speed will return to the default, 4. Be careful with using speeds that do not divide evenly into 20, because tiles are 20 pixels in size, and an irregular walking speed may cause your hero to become misaligned with the tiles.
</tt>
</p>

<a name="about-setnpcspeed"></a>
<p>
<tt>
<b><font color="yellow">set NPC speed (who,speed)</font></b><br>
Changes the walking speed of the specified NPC. If you do not specify a speed, the NPC's speed will return to the default, 4. Be careful with using speeds that do not divide evenly into 20, because tiles are 20 pixels in size, and an irregular walking speed may cause the NPC to become misaligned with the tiles. If more than one copy of the same NPC exists on the map, only the first one will be moved.
</tt>
</p>

<a name="about-usedoor"></a>
<p>
<tt>
<b><font color="yellow">use door (number)</font></b><br>
instantly uses the numbered door, just as if you had stepped into it.
</tt>
</p>

<a name="about-teleporttomap"></a>
<p>
<tt>
<b><font color="yellow">teleport to map (map,x,y)</font></b><br>
An alternative to <a href="#about-usedoor">use door</a>, teleport to map moves you to a given x,y position on the specified map without the need to create a door-link on the map. Teleport to map does not fade to black.
</tt>
</p>

<a name="about-camerafollowshero"></a>
<p>
<tt>
<b><font color="yellow">camera follows hero (who)</font></b><br>
Normally, the camera follows your leader. With this command, you can make the camera follow any hero you want. If you leave out the argument, the camera will follow your leader as normal.
</tt>
</p>

<a name="about-camerafollowsnpc"></a>
<p>
<tt>
<b><font color="yellow">camera follows NPC (who)</font></b><br>
With this command, you can make the camera follow an NPC instead of the hero. If more than one copy of the specified NPC exists, the camera will follow the first one. To revert the camera to normal, use <a href="#about-camerafollowshero">camera follows hero</a>.
</tt>
</p>

<a name="about-pancamera"></a>
<p>
<tt>
<b><font color="yellow">pan camera (direction,distance,pixelstep)</font></b><br>
This command causes the camera to stop following your leader and pan in the specified direction. For direction, you can use the constants:
<font color="yellow">north</font>,
<font color="yellow">south</font>,
<font color="yellow">east</font>,
<font color="yellow">west</font>,
<font color="yellow">up</font>,
<font color="yellow">down</font>,
<font color="yellow">left</font>, or
<font color="yellow">right</font>.
The distance is the number of tiles you want the camera to move before it stops. You can also specify the number of pixels you want the camera to move for each tick. if you leave the last argument out, the camera will move by 2 pixels per tick. This command is normally used with <a href="#about-waitforcamera">wait for camera</a>. To revert the camera to normal, use <a href="#about-camerafollowshero">camera follows hero</a>.
</tt>
</p>

<a name="about-focuscamera"></a>
<p>
<tt>
<b><font color="yellow">focus camera (x,y,speed)</font></b><br>
This command causes the camera to focus itself on the specified X,Y coordinates of the map. These coordinates are in units of tiles. The third argument, the speed, tells how fast the camera will pan. If you do not specify a speed, the camera will pan 2 pixels per tick. This command is normally used with <a href="#about-waitforcamera">wait for camera</a>. To revert the camera to normal, use <a href="#about-camerafollowshero">camera follows hero</a>.
</tt>
</p>

<hr>

<a name="showing"></a>
<font size="4" color="f06060">Showing Stuff and Doing Things</font><br>

<a name="about-showtextbox"></a>
<p>
<tt>
<b><font color="yellow">show text box (number)</font></b><br>
Displays the numbered text box, just as if you had talked to an NPC. The text box will not actually pop up until the next wait command. This command is most often used with the <a href="#about-waitfortextbox">wait for text box</a> command.
</tt>
</p>

<a name="about-advancetextbox"></a>
<p>
<tt>
<b><font color="yellow">advance text box</font></b><br>
Advances a text box just as if the player had pressed a key. For use while <a href="#about-suspendboxadvance">suspend box advance</a> is active.
</tt>
</p>

<a name="about-fightformation"></a>
<p>
<tt>
<b><font color="yellow">fight formation (number)</font></b><br>
Starts a battle with the numbered enemy formation
</tt>
</p>

<a name="about-gameover"></a>
<p>
<tt>
<b><font color="yellow">game over</font></b><br>
Resets the game and returns you to the title screen. This command is most useful for after-you-win-the-game type scripts, and for death-scripts that are triggered when you lose in battle.
</tt>
</p>

<a name="about-showvalue"></a>
<p>
<tt>
<b><font color="yellow">show value (number)</font></b><br>
Displays the number in the bottom left corner of the screen. Useful for count-down timers, and for debugging complicated scripts.
</tt>
</p>

<a name="about-shownovalue"></a>
<p>
<tt>
<b><font color="yellow">show no value</font></b><br>
Gets rid of the number in the bottom left corner of the screen after a <a href="#about-showvalue">show value</a> command.
</tt>
</p>

<a name="about-showbackdrop"></a>
<p>
<tt>
<b><font color="yellow">show backdrop (number)</font></b><br>
displays the specified full screen backdrop on the screen. This allows you to show full screen pictures without attaching them to text boxes. You can also do some simple animation effects by calling show backdrop many times with <a href="#about-wait">wait</a> commands in between.
</tt>
</p>

<a name="about-showmap"></a>
<p>
<tt>
<b><font color="yellow">show map</font></b><br>
shows the map again after a <a href="#about-showbackdrop">show backdrop</a> command
</tt>
</p>

<hr>

<a name="addrem"></a>
<font size="4" color="f06060">Adding and Removing</font><br>

<a name="about-getmoney"></a>
<p>
<tt>
<b><font color="yellow">get money (amount)</font></b><br>
Adds the specified amount to your party's money
</tt>
</p>

<a name="about-losemoney"></a>
<p>
<tt>
<b><font color="yellow">lose money (amount)</font></b><br>
Subtracts the specified amount from your party's money.
</tt>
</p>

<a name="about-paymoney"></a>
<p>
<tt>
<b><font color="yellow">pay money (amount)</font></b><br>
A function that checks to see if you have enough money to pay the amount specified. If you do, it subtracts it, and returns true. If you do not have enough, it subtracts nothing, but returns false. Intended for use in <a href="#about-if">if</a> statements.
</tt>
</p>

<a name="about-addhero"></a>
<p>
<tt>
<b><font color="yellow">add hero (who)</font></b><br>
Puts the named hero in your party. If there is no room, the hero will be added to your reserve. Use the constants defined in your HSI file. They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-deletehero"></a>
<p>
<tt>
<b><font color="yellow">delete hero (who)</font></b><br>
Removes the named hero from your party. If you have more than one copy of the hero in your party, only the first one will be deleted. Use the constants defined in your HSI file. They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-swapinhero"></a>
<p>
<tt>
<b><font color="yellow">swap in hero (who)</font></b><br>
Moves the named hero in your from your reserves to your active party. If there is no room in your active party, the hero will not be moved. Use the constants defined in your HSI file. They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-swapouthero"></a>
<p>
<tt>
<b><font color="yellow">swap out hero (who)</font></b><br>
Moves the named hero from your active party into your reserve. Use the constants defined in your HSI file. They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-lockhero"></a>
<p>
<tt>
<b><font color="yellow">lock hero (who)</font></b><br>
Locking a hero prevents the player from moving the hero on the <font color="yellow">party</font> menu. Locked heros in the active party cannot be moved into the reserve, and locked heros in the reserve are completely hidden. Also prevents a hero from being moved by <a href="#about-swapinhero">swap in hero</a> or <a href="#about-swapouthero">swap out hero</a>. Use the constants defined in your HSI file. They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-unlockhero"></a>
<p>
<tt>
<b><font color="yellow">unlock hero (who)</font></b><br>
Reverses <a href="#about-lockhero">lock hero (who)</a>, and makes it possible to move a hero in and out of the active party again. Use the constants defined in your HSI file. They are in the form of <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-swapbyposition"></a>
<p>
<tt>
<b><font color="yellow">swap by name (name,name)</font></b><br>
Swaps two named heros in your party no matter what position they are in. Use the names defined in your HSI file in the form <font color="yellow">hero:name</font>
</tt>
</p>

<a name="about-swapbyposition"></a>
<p>
<tt>
<b><font color="yellow">swap by position (position,position)</font></b><br>
Swaps two heros in your party based on their positions in the party
</tt>
</p>

<a name="about-getitem"></a>
<p>
<tt>
<b><font color="yellow">get item (item,number)</font></b><br>
Adds the specified number of the specified item to your inventory. If you do not specify a number, only one will be added. You can refer to the item by number, or you can use the constants defined in your HSI file, which are in the form of <font color="yellow">item:name</font>
</tt>
</p>

<a name="about-deleteitem"></a>
<p>
<tt>
<b><font color="yellow">delete item (item,number)</font></b><br>
Removes the specified number of the specified item from your inventory. If you do not specify a number, only one will be removed. You can refer to the item by number, or you can use the constants defined in your HSI file, which are in the form of <font color="yellow">item:name</font>
</tt>
</p>

<hr>

<a name="effects"></a>
<font size="4" color="f06060">Effects</font><br>

<a name="about-playsong"></a>
<p>
<tt>
<b><font color="yellow">play song (song)</font></b><br>
Plays the specified song. Use the constants defined in your HSI file. They appear in the form of <font color="yellow">song:name</font>
</tt>
</p>

<a name="about-stopsong"></a>
<p>
<tt>
<b><font color="yellow">stop song</font></b><br>
Stops whatever music is currently playing.
</tt>
</p>

<a name="about-fadescreenout"></a>
<p>
<tt>
<b><font color="yellow">fade screen out (red,green,blue)</font></b><br>
Fades the screen to a solid color. If you do not specify any arguments, the screen will fade to black. The red, gree, blue values are numbers from 0 to 63 that tell how bright that particular color should be. (63,0,0) would be blood red. (40,0,40) would be purple. (63,63,63) would be bright white.
</tt>
</p>

<a name="about-fadescreenin"></a>
<p>
<tt>
<b><font color="yellow">fade screen in</font></b><br>
Fades the screen back to normal after a <font color="yellow">fade screen out</font> command.
</tt>
</p>

<hr>

<a name="functions"></a>
<font size="4" color="f06060">Functions</font><br>

<a name="about-random"></a>
<p>
<tt>
<b><font color="yellow">random(lownumber, highnumber)</font></b><br>
Returns a random number in the range of the two numbers. The returned value will be greater than or equal to the first number, and less than or equal to the second number
</tt>
</p>

<a name="about-inventory"></a>
<p>
<tt>
<b><font color="yellow">inventory (item)</font></b><br>
Returns a count of how many of the specified item are in your inventory. If you do not have the item, it returns zero or false. You can refer to the item by number, or you can use the constants defined in your HSI file, which are in the form of <font color="yellow">item:name</font>
</tt>
</p>

<a name="about-leader"></a>
<p>
<tt>
<b><font color="yellow">leader</font></b><br>
Returns the hero number of the current leader.
</tt>
</p>

<a name="about-herox"></a>
<p>
<tt>
<b><font color="yellow">hero X (who)</font></b><br>
returns the specified hero's X position in tiles.
</tt>
</p>

<a name="about-heroy"></a>
<p>
<tt>
<b><font color="yellow">hero Y (who)</font></b><br>
returns the specified hero's Y position in tiles.
</tt>
</p>

<a name="about-npcx"></a>
<p>
<tt>
<b><font color="yellow">NPC X (who)</font></b><br>
returns the specified NPC's X position in tiles.
</tt>
</p>

<a name="about-npcy"></a>
<p>
<tt>
<b><font color="yellow">NPC Y (who)</font></b><br>
returns the specified NPC's Y position in tiles.
</tt>
</p>

<a name="about-roominparty"></a>
<p>
<tt>
<b><font color="yellow">room in party</font></b><br>
A function that returns the number of available spaces in your active party. It will return zero or false if there is no room.
</tt>
</p>

<a name="about-currentmap"></a>
<p>
<tt>
<b><font color="yellow">current map</font></b><br>
returns the number of the current map.
</tt>
</p>

<a name="about-daysofplay"></a>
<p>
<tt>
<b><font color="yellow">days of play</font></b><br>
returns the number of days that the game has been played
</tt>
</p>

<a name="about-hoursofplay"></a>
<p>
<tt>
<b><font color="yellow">hours of play</font></b><br>
returns the number of hours that the game has been played, 0 to 23
</tt>
</p>

<a name="about-minutesofplay"></a>
<p>
<tt>
<b><font color="yellow">minutes of play</font></b><br>
returns the number of minutes that the game has been played, 0 to 59
</tt>
</p>

<hr>

<a name="tags"></a>
<font size="4" color="f06060">Working with Tags</font><br>

<a name="about-settag"></a>
<p>
<tt>
<b><font color="yellow">set tag (tag,value)</font></b><br>
Sets the value of a tag. The available constants are:
<font color="yellow">off</font>,
<font color="yellow">on</font>,
<font color="yellow">true</font>, or
<font color="yellow">false</font>.
You can specify the number of the tag, or you can use the constants in your HSI file. These constants are in the form of <font color="yellow">tag:name</font>.
</tt>
</p>

<a name="about-checktag"></a>
<p>
<tt>
<b><font color="yellow">check tag (tag)</font></b><br>
A function that checks the value of a tag, and returns true if the tag is turned on, and false if the tag is turned off. It can be used in <font color="yellow">if</font> and <font color="yellow">while</font> statements
You can specify the number of the tag, or you can use the constants in your HSI file. These constants are in the form of <font color="yellow">tag:name</font>.
</tt>
</p>

<hr>

<a name="variable"></a>
<font size="4" color="f06060">Working with Variables</font><br>

<a name="about-setvariable"></a>
<p>
<tt>
<b><font color="yellow">set variable (variable,value)</font></b><br>
This command assigns a new value to a variable. If you do not specify the new value, the variable will be reset to zero. This command works exactly the same for global and local variables.
</tt>
</p>

<a name="about-increment"></a>
<p>
<tt>
<b><font color="yellow">increment (variable,amount)</font></b><br>
This command adds an amount to the current value of a variable. If you do not specify the amount, then the variable will be incremented by one. This command works exactly the same for global and local variables.
</tt>
</p>

<a name="about-decrement"></a>
<p>
<tt>
<b><font color="yellow">decrement (variable,amount)</font></b><br>
This command subtracts an amount from the current value of a variable. If you do not specify the amount, then the variable will be decremented by one. This command works exactly the same for global and local variables.
</tt>
</p>

<hr>

<a name="operators"></a>
<font size="4" color="f06060">Math, Comparison, and Logic Operators</font><br>

<p>
<tt>
Pre-December 1999 versions of HamsterSpeak used a different syntax for math. For more information, see the <a href="hamsterspeak.html#operatortable">HamsterSpeak Specification</a>
</tt>
</p>

<a name="about-add"></a>
<p>
<tt>
<b><font color="yellow">number + number</font></b><br>
Adds two values together and returns the result. This can also be written as <font color="yellow">number,add,number</font>
</tt>
</p>

<a name="about-subtract"></a>
<p>
<tt>
<b><font color="yellow">number -- number</font></b><br>
Subtracts the second number from the first number and returns the result. It is neccisary to use the double minus so that HSPEAK.EXE can tell the difference between subtraction, and a minus sign that indicates a negative number. You can also write <font color="yellow">number,subtract,number</font>
</tt>
</p>

<a name="about-multiply"></a>
<p>
<tt>
<b><font color="yellow">number * number</font></b><br>
Multiplies two values together and returns the result. This can also be written as <font color="yellow">number,multiply,number</font>
</tt>
</p>

<a name="about-divide"></a>
<p>
<tt>
<b><font color="yellow">number / number</font></b><br>
Divides the second number into the first number and returns the result. The result will be rounded to the nearest integer. This can also be written as <font color="yellow">number,divide,number</font>
</tt>
</p>

<a name="about-modulus"></a>
<p>
<tt>
<b><font color="yellow">number,mod,number</font></b><br>
Divides the second number into the first number and returns the remainder.
</tt>
</p>

<a name="about-exponent"></a>
<p>
<tt>
<b><font color="yellow">number ^ power</font></b><br>
Raises a number to a power and returns the result. Normally you will only be raising things to a power of 2. Raising to very large powers will most certainly produce an overflow error.  This can also be written as <font color="yellow">number,exponent,power</font>
</tt>
</p>

<a name="about-equal"></a>
<p>
<tt>
<b><font color="yellow">number == number</font></b><br>
Checks to see if the two numbers are equal. If they are equal it returns true, otherwise it returns false. This can also be written as <font color="yellow">number,equal,number</font>
</tt>
</p>

<a name="about-notequal"></a>
<p>
<tt>
<b><font color="yellow">number <> number</font></b><br>
Checks to see if the two numbers are not equal. If they are not equal it returns true. If they are equal it returns false. This can also be written as <font color="yellow">number,not equal,number</font>
</tt>
</p>

<a name="about-lessthan"></a>
<p>
<tt>
<b><font color="yellow">number << number</font></b><br>
Checks to see if the first number is less than the second number. If it is, it returns true, otherwise it returns false. This can also be written as <font color="yellow">number,less than,number</font>
</tt>
</p>

<a name="about-greaterthan"></a>
<p>
<tt>
<b><font color="yellow">number >> number</font></b><br>
Checks to see if the first number is greater than the second number. If it is, it returns true, otherwise it returns false. This can also be written as <font color="yellow">number,greater than,number</font>
</tt>
</p>

<a name="about-lessthanorequalto"></a>
<p>
<tt>
<b><font color="yellow">number <= number</font></b><br>
Checks to see if the first number is less than or equal to the second number. If it is, it returns true, otherwise it returns false. This can also be written as <font color="yellow">number,less than or equal to,number</font>
</tt>
</p>

<a name="about-greaterthanorequalto"></a>
<p>
<tt>
<b><font color="yellow">number >= number</font></b><br>
Checks to see if the first number is greater than or equal to the second number. If it is, it returns true, otherwise it returns false. This can also be written as <font color="yellow">number,greater than or equal to,number</font>
</tt>
</p>

<a name="about-and"></a>
<p>
<tt>
<b><font color="yellow">value,and,value</font></b><br>
Returns true if both of the values are true (non-zero). If either of them is false, <font color="yellow">and</font> returns false.
</tt>
</p>

<a name="about-or"></a>
<p>
<tt>
<b><font color="yellow">value,or,value</font></b><br>
Returns true if at least one of the values are true (non-zero). Only if both of them are false does <font color="yellow">or</font> return false.
</tt>
</p>

<a name="about-xor"></a>
<p>
<tt>
<b><font color="yellow">value,xor,value</font></b><br>
Returns true if one, but not both of the values are true (non-zero). If both of them are true, or both of them are false, <font color="yellow">xor</font> returns false.
</tt>
</p>

<hr>

<a name="flow"></a>
<font size="4" color="f06060">Flow Control</font><br>

<a name="about-if"></a>
<p>
<tt>
<b><font color="yellow">if(condition) then(commands) else(commands)</font></b><br>
The <font color="yellow">if</font> statement checks the value of its condition, and if the value is true, it runs the commands in the <font color="yellow">then</font> block. If the value is false, it runs the commands in its <font color="yellow">else</font> block. The conditional is usually an equality operator such as <font color="yellow"><tt>==</tt></font> or <font color="yellow"><tt>&lt;&gt;</tt></font>, or it is a <a href="#about-checktag">check tag</a> command. The <font color="yellow">else</font> is optional as long as you have a <font color="yellow">then</font>, and the <font color="yellow">then</font> is optional as long as you have an <font color="yellow">else</font>. There are some examples of <font color="yellow">if</font> statements in the <a href="hamsterspeak.html#sample-comparison">HamsterSpeak Specification</a>, and in WANDERP.HSS
</tt>
</p>

<a name="about-while"></a>
<p>
<tt>
<b><font color="yellow">while(condition) do(commands)</font></b><br>
The <font color="yellow">while</font> command checks the value of its condition, and if the value is true it runs the commands in the <font color="yellow">do</font> block. It keeps checking the conditional and runs the <font color="yellow">do</font> block over and over again until the conditional returns false. The conditional is usually an equality operator such as <font color="yellow"><tt>==</tt></font> or <font color="yellow"><tt>&lt;&gt;</tt></font>, or it is a <a href="#about-checktag">check tag</a> command.
</tt>
</p>

<a name="about-for"></a>
<p>
<tt>
<b><font color="yellow">for(counter,start,finish,step) do(commands)</font></b><br>
The <font color="yellow">for</font> command runs the commands in the <font color="yellow">do</font> block a specified number of times. The first argument to <font color="yellow">for</font> is the counter. It <u>must</u> be a variable. The next two arguments are the starting value and the finishing value. For example, if you use a start value of 1 and a finish value of 10 then the <font color="yellow">do</font> block will run 10 times. The first time the <font color="yellow">do</font> block runs, the counter will be 1, then it will be 2, then 3 and so on until it reaches 10, the finish value. The fourth argument of <font color="yellow">for</font> is optional. It is the step by which the counter will change each loop. If you use a step of 2 then the counter will count 1,3,5,7,9. If you switch the start and finish values and use a step of -1 then the counter will go backwards. If you use 0 as the step, the counter will never change, so the <font color="yellow">do</font> block will repeat forever. There are examples of <font color="yellow">for</font> commands in WANDERP.HSS
</tt>
</p>

<hr>

<a name="advanced"></a>
<font size="4" color="f06060">Advanced Commands</font><br>

<a name="about-alternpc"></a>
<p>
<tt>
<b><font color="yellow">alter NPC (who,NPCstat,value)</font></b><br>
Changes the stats of an NPC. Constants for this command have been included in PLOTSCR.HSD. Advanced uses should have no trouble figuring out how to use this command by looking at PLOTSCR.HSD.
</tt>
</p>

<a name="about-setdeathscript"></a>
<p>
<tt>
<b><font color="yellow">set death script (id)</font></b><br>
Changes the script that is run when you die in battle. The argument is the script's ID number, <b>NOT</b> the script's name. Calling <font color="yellow">set death script</font> with no argument disables the death script.
</tt>
</p>

<a name="about-findhero"></a>
<p>
<tt>
<b><font color="yellow">find hero (who)</font></b><br>
Searches through your party to see if the specified hero is there, and returns the position where the hero was found, or -1 if the hero was not found. Use the names defined in your HSI file in the format <font color="yellow">hero:name</font>. Not only does this tell you if a hero is in your party, but you can also use it to tell whether or not the hero is in your active party. <font color="yellow">find hero</font> will return 0,1,2 or 3 if the hero is in the active party, but it will return a number 4 or higher if the hero is in the reserve
</tt>
</p>

<a name="about-getherostat"></a>
<p>
<tt>
<b><font color="yellow">get hero stat (who,stat,type)</font></b><br>
A function that returns one of a hero's stats. The first argument is the name of the hero you want to check as defined in your HSI file. The second argument is the name of the stat that you want to check. The names of the stats are also define in your HSI file in the form <font color="yellow">stat:name</font>. The third argument is either <font color="yellow">current stat</font> or <font color="yellow">maximum stat</font>
</tt>
</p>

<a name="about-setherostat"></a>
<p>
<tt>
<b><font color="yellow">set hero stat (who,stat,type,value)</font></b><br>
A command that changes one of a hero's stats. The first argument is the name of the hero you want to change as defined in your HSI file. The second argument is the name of the stat that you want to change. The names of the stats are also define in your HSI file in the form <font color="yellow">stat:name</font>. The third argument is either <font color="yellow">current stat</font> or <font color="yellow">maximum stat</font>. The last argument is the new value of the stat.
</tt>
</p>
